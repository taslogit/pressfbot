# üìã –ü–û–î–†–û–ë–ù–´–ô –ß–ï–ö–õ–ò–°–¢ –§–£–ù–ö–¶–ò–û–ù–ê–õ–ê –° –ò–ù–°–¢–†–£–ö–¶–ò–Ø–ú–ò

## üì± TELEGRAM BOT

### 1. –ë–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –∫–æ–º–∞–Ω–¥—É `/start`

**–ß—Ç–æ —ç—Ç–æ:** –ë–∞–∑–æ–≤–∞—è –∫–æ–º–∞–Ω–¥–∞ Telegram –±–æ—Ç–∞, –∫–æ—Ç–æ—Ä–∞—è –∑–∞–ø—É—Å–∫–∞–µ—Ç –±–æ—Ç–∞ –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ.

**–ì–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è:**
- Backend: `pressf/server/index.js` (—Ñ—É–Ω–∫—Ü–∏—è `sendStartMessage`)
- –û–±—Ä–∞–±–æ—Ç—á–∏–∫: `bot.start(sendStartMessage)`

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ Telegram
2. –ù–∞–π–¥–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ (–ø–æ username)
3. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É `/start`
4. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –ë–æ—Ç –¥–æ–ª–∂–µ–Ω –æ—Ç–≤–µ—Ç–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ–º

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ –ª–æ–≥–∞—Ö:**
```bash
docker compose logs backend --tail=50 | grep -i "start"
```
–î–æ–ª–∂–Ω–æ –±—ã—Ç—å: `[/start] Received start command`

---

### 2. –ü—Ä–∏ `/start` –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º

**–ß—Ç–æ —ç—Ç–æ:** –ü—Ä–∏ –∫–æ–º–∞–Ω–¥–µ `/start` –±–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ) —Å —Ç–µ–∫—Å—Ç–æ–º –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è.

**–ì–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è:**
- Backend: `pressf/server/index.js` (—Å—Ç—Ä–æ–∫–∏ 92-129)
- –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è: `BOT_INFO_IMAGE_URL` –≤ `.env`
- –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ: `https://pressfbot.ru/static/bot-start.jpg` –∏–ª–∏ –≤–Ω–µ—à–Ω–∏–π URL

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
1. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/start` –±–æ—Ç—É
2. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** 
   - –î–æ–ª–∂–Ω–æ –ø—Ä–∏–π—Ç–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º
   - –ü–æ–¥ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º —Ç–µ–∫—Å—Ç: "PRESS F ‚Äî —ç—Ç–æ –º–µ–º‚Äë—Å–µ–π—Ñ –¥–ª—è —Ç–≤–æ–∏—Ö —Å–ª–æ–≤..."
   - –ö–Ω–æ–ø–∫–∞ "–ù–ê–ß–ê–¢–¨" –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è WebApp

**–ï—Å–ª–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–µ –ø—Ä–∏—Ö–æ–¥–∏—Ç:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `BOT_INFO_IMAGE_URL` –≤ `.env`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –æ—à–∏–±–∫–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

---

### 3. –ü—Ä–∏ `/start` –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∫–Ω–æ–ø–∫–∞ –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è WebApp

**–ß—Ç–æ —ç—Ç–æ:** Inline –∫–Ω–æ–ø–∫–∞ –≤ —Å–æ–æ–±—â–µ–Ω–∏–∏ –±–æ—Ç–∞, –∫–æ—Ç–æ—Ä–∞—è –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç WebApp –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

**–ì–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è:**
- Backend: `pressf/server/index.js` (—Ñ—É–Ω–∫—Ü–∏—è `buildStartKeyboard`, —Å—Ç—Ä–æ–∫–∏ 86-90)
- –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è: `WEB_APP_URL` –≤ `.env`

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
1. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/start` –±–æ—Ç—É
2. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** 
   - –í —Å–æ–æ–±—â–µ–Ω–∏–∏ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∫–Ω–æ–ø–∫–∞ "–ù–ê–ß–ê–¢–¨" –∏–ª–∏ "Open App"
   - –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è WebApp

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- –ö–Ω–æ–ø–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ —Å–æ–æ–±—â–µ–Ω–∏–∏
- –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è WebApp
- WebApp –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

---

### 4. WebApp –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø–æ —Å—Å—ã–ª–∫–µ

**–ß—Ç–æ —ç—Ç–æ:** Telegram Mini App, –∫–æ—Ç–æ—Ä–æ–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É –≤ –±–æ—Ç–µ.

**–ì–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è:**
- Frontend: `pressf/press-f/App.tsx`
- URL: –£–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –±–æ—Ç–∞ —á–µ—Ä–µ–∑ BotFather

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
1. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "–ù–ê–ß–ê–¢–¨" –≤ —Å–æ–æ–±—â–µ–Ω–∏–∏ –±–æ—Ç–∞
2. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
   - –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
   - –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (Landing)
   - –ù–µ—Ç –æ—à–∏–±–æ–∫ –∑–∞–≥—Ä—É–∑–∫–∏

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
- –í—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è

---

### 5. Deep links —Ä–∞–±–æ—Ç–∞—é—Ç

**–ß—Ç–æ —ç—Ç–æ:** –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å—Å—ã–ª–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –æ—Ç–∫—Ä—ã–≤–∞—é—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ –∏–ª–∏ —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏.

**–ì–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è:**
- Frontend: `pressf/press-f/App.tsx` (—Å—Ç—Ä–æ–∫–∏ 36-54)
- Backend: `pressf/server/index.js` (—Å—Ç—Ä–æ–∫–∏ 737-800) - –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã—Ö —Å—Å—ã–ª–æ–∫

#### 5.1. `t.me/bot?start=witness_123`

**–ß—Ç–æ —ç—Ç–æ:** –°—Å—ã–ª–∫–∞ –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –æ–¥–æ–±—Ä–µ–Ω–∏—è —Å–≤–∏–¥–µ—Ç–µ–ª—è –¥—É—ç–ª–∏.

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
1. –°–æ–∑–¥–∞–π—Ç–µ –¥—É—ç–ª—å —Å —Å–≤–∏–¥–µ—Ç–µ–ª—è–º–∏
2. –ü–æ–ª—É—á–∏—Ç–µ —Å—Å—ã–ª–∫—É –≤–∏–¥–∞ `t.me/your_bot?start=witness_123`
3. –û—Ç–∫—Ä–æ–π—Ç–µ —Å—Å—ã–ª–∫—É
4. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ `/witness-approval`

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –æ–¥–æ–±—Ä–µ–Ω–∏—è —Å–≤–∏–¥–µ—Ç–µ–ª—è
- ID –¥—É—ç–ª–∏ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –ú–æ–∂–Ω–æ –æ–¥–æ–±—Ä–∏—Ç—å/–æ—Ç–∫–ª–æ–Ω–∏—Ç—å —Å–≤–∏–¥–µ—Ç–µ–ª—è

---

#### 5.2. `t.me/bot?start=duel_456`

**–ß—Ç–æ —ç—Ç–æ:** –°—Å—ã–ª–∫–∞ –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –¥—É—ç–ª–µ–π.

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å—Å—ã–ª–∫—É `t.me/your_bot?start=duel_456`
2. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ `/duels`

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –¥—É—ç–ª–µ–π
- –û—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –¥—É—ç–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

---

#### 5.3. `t.me/bot?start=squad`

**–ß—Ç–æ —ç—Ç–æ:** –°—Å—ã–ª–∫–∞ –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å–∫–≤–∞–¥–æ–≤.

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å—Å—ã–ª–∫—É `t.me/your_bot?start=squad`
2. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ `/squads`

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Å–∫–≤–∞–¥–æ–≤
- –û—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Å–∫–≤–∞–¥—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

---

#### 5.4. `t.me/bot?start=ref_ABC123`

**–ß—Ç–æ —ç—Ç–æ:** –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å—Å—ã–ª–∫–∞ –¥–ª—è –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

**–ì–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è:**
- Backend: `pressf/server/index.js` (—Å—Ç—Ä–æ–∫–∏ 737-800)
- Frontend: `pressf/press-f/components/ReferralSection.tsx`

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ—Ñ–∏–ª—å ‚Üí –≤–∫–ª–∞–¥–∫–∞ "Stats" ‚Üí —Ä–∞–∑–¥–µ–ª "–†–µ—Ñ–µ—Ä–∞–ª—ã"
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω—É—é —Å—Å—ã–ª–∫—É (—Ñ–æ—Ä–º–∞—Ç: `t.me/your_bot?start=ref_ABC123`)
3. –û—Ç–∫—Ä–æ–π—Ç–µ —Å—Å—ã–ª–∫—É –≤ –Ω–æ–≤–æ–º –∞–∫–∫–∞—É–Ω—Ç–µ Telegram (–∏–ª–∏ –ø–æ–ø—Ä–æ—Å–∏—Ç–µ –¥—Ä—É–≥–∞)
4. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
   - –ù–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è
   - –í –ø—Ä–æ—Ñ–∏–ª–µ —Ä–µ—Ñ–µ—Ä–µ—Ä–∞ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è `referrals_count`
   - –†–µ—Ñ–µ—Ä–µ—Ä—É –Ω–∞—á–∏—Å–ª—è–µ—Ç—Å—è +100 XP
   - –°–æ–∑–¥–∞–µ—Ç—Å—è –∑–∞–ø–∏—Å—å –≤ —Ç–∞–±–ª–∏—Ü–µ `referral_events`

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ –ë–î:**
```sql
SELECT * FROM profiles WHERE referral_code = 'ABC123';
SELECT * FROM referral_events WHERE referrer_id = <–≤–∞—à_user_id>;
SELECT referrals_count FROM profiles WHERE user_id = <–≤–∞—à_user_id>;
```

---

### 6. Webhook —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ (–Ω–µ—Ç –æ—à–∏–±–æ–∫ 404)

**–ß—Ç–æ —ç—Ç–æ:** –ú–µ—Ö–∞–Ω–∏–∑–º –ø–æ–ª—É—á–µ–Ω–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –æ—Ç Telegram —á–µ—Ä–µ–∑ HTTP –∑–∞–ø—Ä–æ—Å—ã.

**–ì–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è:**
- Backend: `pressf/server/index.js` (—Å—Ç—Ä–æ–∫–∏ 194-221, 884-920)
- Endpoint: `POST /bot`
- Traefik: `pressf/docker-compose.traefik.yml` (label –¥–ª—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏)

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –±–æ—Ç–∞:
```bash
docker compose logs backend --tail=50 | grep -i webhook
```

2. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
   - `‚úÖ Webhook set successfully`
   - `Webhook info` –±–µ–∑ –æ—à–∏–±–æ–∫
   - `lastErrorMessage` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø—É—Å—Ç—ã–º –∏–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞—Ç—å

3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ webhook —á–µ—Ä–µ–∑ API Telegram:
```bash
curl https://api.telegram.org/bot<YOUR_TOKEN>/getWebhookInfo
```

4. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
   - `url`: `https://pressfbot.ru/bot`
   - `pending_update_count`: 0 –∏–ª–∏ –Ω–µ–±–æ–ª—å—à–æ–µ —á–∏—Å–ª–æ
   - `last_error_date`: –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∏–ª–∏ 0
   - `last_error_message`: –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç

**–ï—Å–ª–∏ –µ—Å—Ç—å –æ—à–∏–±–∫–∞ 404:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Traefik labels –≤ `docker-compose.traefik.yml`
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ endpoint `/bot` –¥–æ—Å—Ç—É–ø–µ–Ω
- –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã: `docker compose -f docker-compose.traefik.yml restart backend traefik`

---

### 7. –ë–æ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –æ—Ç Telegram

**–ß—Ç–æ —ç—Ç–æ:** –ë–æ—Ç –¥–æ–ª–∂–µ–Ω –ø–æ–ª—É—á–∞—Ç—å –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∏ –∫–æ–º–∞–Ω–¥—ã –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

**–ì–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è:**
- Backend: `pressf/server/index.js` (–æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥)

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
1. –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Ä–∞–∑–ª–∏—á–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –±–æ—Ç—É:
   - `/start`
   - –õ—é–±–æ–µ —Ç–µ–∫—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
2. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
   - –ë–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –∫–æ–º–∞–Ω–¥—ã
   - –í –ª–æ–≥–∞—Ö –≤–∏–¥–Ω—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–æ–º–∞–Ω–¥

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ –ª–æ–≥–∞—Ö:**
```bash
docker compose logs backend --tail=100 -f
```
–î–æ–ª–∂–Ω—ã –≤–∏–¥–µ—Ç—å –ª–æ–≥–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–æ–º–∞–Ω–¥ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Å–æ–æ–±—â–µ–Ω–∏–π.

---

## üîê –ê–£–¢–ï–ù–¢–ò–§–ò–ö–ê–¶–ò–Ø –ò –°–ï–°–°–ò–ò

### 1. –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è `initData` –æ—Ç Telegram —Ä–∞–±–æ—Ç–∞–µ—Ç

**–ß—Ç–æ —ç—Ç–æ:** –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ª–∏–Ω–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö, –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö –æ—Ç Telegram Mini App.

**–ì–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è:**
- Backend: `pressf/server/index.js` (endpoint `/api/verify`, —Å—Ç—Ä–æ–∫–∏ 680-839)
- Frontend: `pressf/press-f/hooks/useTelegramSession.ts`

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ WebApp
2. –û—Ç–∫—Ä–æ–π—Ç–µ DevTools (F12) ‚Üí Network
3. –ù–∞–π–¥–∏—Ç–µ –∑–∞–ø—Ä–æ—Å `POST /api/verify`
4. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
   - –ó–∞–ø—Ä–æ—Å –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `200 OK`
   - –í –æ—Ç–≤–µ—Ç–µ –µ—Å—Ç—å `sessionId`
   - –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤–∞–ª–∏–¥–∞—Ü–∏–∏

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- –ó–∞–ø—Ä–æ—Å —É—Å–ø–µ—à–Ω–æ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è
- `sessionId` —Å–æ–∑–¥–∞–µ—Ç—Å—è –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è
- –í –ë–î —Å–æ–∑–¥–∞–µ—Ç—Å—è –∑–∞–ø–∏—Å—å –≤ —Ç–∞–±–ª–∏—Ü–µ `sessions`

---

### 2. –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Å—Å–∏–∏ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –≤—Ö–æ–¥–µ

**–ß—Ç–æ —ç—Ç–æ:** –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –æ—Ç–∫—Ä—ã—Ç–∏–∏ WebApp —Å–æ–∑–¥–∞–µ—Ç—Å—è –Ω–æ–≤–∞—è —Å–µ—Å—Å–∏—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.

**–ì–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è:**
- Backend: `pressf/server/index.js` (—Å—Ç—Ä–æ–∫–∏ 726-734)
- –¢–∞–±–ª–∏—Ü–∞ –ë–î: `sessions`

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ WebApp –≤ –ø–µ—Ä–≤—ã–π —Ä–∞–∑ (–∏–ª–∏ –æ—á–∏—Å—Ç–∏—Ç–µ localStorage)
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ –ë–î:
```sql
SELECT * FROM sessions ORDER BY created_at DESC LIMIT 1;
```
3. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
   - –°–æ–∑–¥–∞–µ—Ç—Å—è –Ω–æ–≤–∞—è –∑–∞–ø–∏—Å—å –≤ —Ç–∞–±–ª–∏—Ü–µ `sessions`
   - `telegram_id` —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –≤–∞—à–µ–º—É Telegram ID
   - `expires_at` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –Ω–∞ –±—É–¥—É—â–µ–µ –≤—Ä–µ–º—è

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- –°–µ—Å—Å–∏—è —Å–æ–∑–¥–∞–µ—Ç—Å—è –≤ –ë–î
- `sessionId` —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ localStorage
- –°–µ—Å—Å–∏—è –∏–º–µ–µ—Ç —Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è (SESSION_TTL_SECONDS)

---

### 3. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–µ—Å—Å–∏–∏ –≤ localStorage

**–ß—Ç–æ —ç—Ç–æ:** `sessionId` —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤.

**–ì–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è:**
- Frontend: `pressf/press-f/hooks/useTelegramSession.ts`
- –ö–ª—é—á: `lastmeme_session` –≤ localStorage

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ WebApp
2. –û—Ç–∫—Ä–æ–π—Ç–µ DevTools (F12) ‚Üí Application ‚Üí Local Storage
3. –ù–∞–π–¥–∏—Ç–µ –∫–ª—é—á `lastmeme_session`
4. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
   - –ö–ª—é—á —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
   - –ó–Ω–∞—á–µ–Ω–∏–µ - UUID (–Ω–∞–ø—Ä–∏–º–µ—Ä, `550e8400-e29b-41d4-a716-446655440000`)

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- `sessionId` —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ localStorage
- –ó–Ω–∞—á–µ–Ω–∏–µ –Ω–µ –ø—É—Å—Ç–æ–µ
- –§–æ—Ä–º–∞—Ç - UUID

---

### 4. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏–∏ –ø—Ä–∏ –∏—Å—Ç–µ—á–µ–Ω–∏–∏

**–ß—Ç–æ —ç—Ç–æ:** –ü—Ä–∏ –∏—Å—Ç–µ—á–µ–Ω–∏–∏ —Å—Ä–æ–∫–∞ –¥–µ–π—Å—Ç–≤–∏—è —Å–µ—Å—Å–∏–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è –Ω–æ–≤–∞—è.

**–ì–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è:**
- Frontend: `pressf/press-f/hooks/useTelegramSession.ts`
- Backend: `pressf/server/index.js` (SESSION_TTL_SECONDS)

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∫–æ—Ä–æ—Ç–∫–∏–π TTL –¥–ª—è —Ç–µ—Å—Ç–∞ (–≤ –∫–æ–¥–µ)
2. –î–æ–∂–¥–∏—Ç–µ—Å—å –∏—Å—Ç–µ—á–µ–Ω–∏—è —Å–µ—Å—Å–∏–∏
3. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –ª—é–±–æ–π API –∑–∞–ø—Ä–æ—Å
4. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
   - –°–æ–∑–¥–∞–µ—Ç—Å—è –Ω–æ–≤–∞—è —Å–µ—Å—Å–∏—è
   - –°—Ç–∞—Ä–∞—è —Å–µ—Å—Å–∏—è –ø–æ–º–µ—á–∞–µ—Ç—Å—è –∫–∞–∫ –∏—Å—Ç–µ–∫—à–∞—è
   - –ù–æ–≤—ã–π `sessionId` —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ localStorage

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- –ü—Ä–∏ –∏—Å—Ç–µ—á–µ–Ω–∏–∏ —Å–µ—Å—Å–∏–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è –Ω–æ–≤–∞—è
- API –∑–∞–ø—Ä–æ—Å—ã –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç —Ä–∞–±–æ—Ç–∞—Ç—å
- –ù–æ–≤—ã–π `sessionId` –≤ localStorage

---

### 5. –ó–∞—â–∏—Ç–∞ API endpoints —á–µ—Ä–µ–∑ middleware –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

**–ß—Ç–æ —ç—Ç–æ:** –í—Å–µ –∑–∞—â–∏—â–µ–Ω–Ω—ã–µ endpoints –ø—Ä–æ–≤–µ—Ä—è—é—Ç –Ω–∞–ª–∏—á–∏–µ –≤–∞–ª–∏–¥–Ω–æ–π —Å–µ—Å—Å–∏–∏.

**–ì–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è:**
- Backend: `pressf/server/middleware/auth.js`
- –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫: –í—Å–µ routes –∫—Ä–æ–º–µ `/api/verify` –∏ `/api/avatars`

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ DevTools ‚Üí Network
2. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∑–∞–ø—Ä–æ—Å –±–µ–∑ `sessionId`:
```javascript
fetch('https://pressfbot.ru/api/profile', {
  method: 'GET',
  headers: { 'Content-Type': 'application/json' }
})
```
3. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
   - –ó–∞–ø—Ä–æ—Å –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `401 Unauthorized`
   - –í –æ—Ç–≤–µ—Ç–µ: `{ "ok": false, "error": "AUTH_REQUIRED", ... }`

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- –ó–∞–ø—Ä–æ—Å—ã –±–µ–∑ `sessionId` –æ—Ç–∫–ª–æ–Ω—è—é—Ç—Å—è
- –ó–∞–ø—Ä–æ—Å—ã —Å –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–º `sessionId` –æ—Ç–∫–ª–æ–Ω—è—é—Ç—Å—è
- –ó–∞–ø—Ä–æ—Å—ã —Å –≤–∞–ª–∏–¥–Ω—ã–º `sessionId` –ø—Ä–æ—Ö–æ–¥—è—Ç

---

### 6. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

**–ß—Ç–æ —ç—Ç–æ:** –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏ –≤–æ–∑–≤—Ä–∞—Ç –æ—à–∏–±–æ–∫ –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö —Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π.

**–ì–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è:**
- Backend: `pressf/server/middleware/auth.js`

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
1. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∑–∞–ø—Ä–æ—Å —Å –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–º `sessionId`
2. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è `401 Unauthorized`
   - –í –æ—Ç–≤–µ—Ç–µ –ø–æ–Ω—è—Ç–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ
   - Frontend –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- –û—à–∏–±–∫–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –≤ –ø–æ–Ω—è—Ç–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ
- Frontend –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
- –ù–µ—Ç —É—Ç–µ—á–µ–∫ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –≤ –æ—à–∏–±–∫–∞—Ö

---

## üè† –ì–õ–ê–í–ù–ê–Ø –°–¢–†–ê–ù–ò–¶–ê (Landing)

**–ì–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è:**
- Frontend: `pressf/press-f/screens/Landing.tsx`

**–ö–∞–∫ –æ—Ç–∫—Ä—ã—Ç—å:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ WebApp
2. –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

---

### 1. –ö–Ω–æ–ø–∫–∞ "Check In" –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è

**–ß—Ç–æ —ç—Ç–æ:** –ö–Ω–æ–ø–∫–∞ –¥–ª—è –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–≥–æ —á–µ–∫–∏–Ω–∞, –∫–æ—Ç–æ—Ä–∞—è –Ω–∞—á–∏—Å–ª—è–µ—Ç XP –∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç—Ä–∏–∫.

**–ì–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è:**
- Frontend: `pressf/press-f/screens/Landing.tsx` (—Ñ—É–Ω–∫—Ü–∏—è `handleCheckIn`)

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
2. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
   - –í–∏–¥–Ω–∞ –∫–Ω–æ–ø–∫–∞ "Check In" –∏–ª–∏ "–ß–µ–∫-–∏–Ω"
   - –ö–Ω–æ–ø–∫–∞ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω–∞

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- –ö–Ω–æ–ø–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
- –ö–Ω–æ–ø–∫–∞ –∏–º–µ–µ—Ç –≤–∏–∑—É–∞–ª—å–Ω–æ–µ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ
- –ö–Ω–æ–ø–∫–∞ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –¥–æ—Å—Ç—É–ø–Ω–æ–º –º–µ—Å—Ç–µ

---

### 2. –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ Check In –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —Å—Ç—Ä–∏–∫

**–ß—Ç–æ —ç—Ç–æ:** –ü—Ä–∏ –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–º —á–µ–∫–∏–Ω–µ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è —Å—á–µ—Ç—á–∏–∫ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö –¥–Ω–µ–π (current_streak).

**–ì–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è:**
- Backend: `pressf/server/routes/profile.js` (endpoint `POST /api/profile/check-in`)
- Frontend: `pressf/press-f/screens/Landing.tsx` (—Ñ—É–Ω–∫—Ü–∏—è `handleCheckIn`)

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
1. –ó–∞–ø–æ–º–Ω–∏—Ç–µ —Ç–µ–∫—É—â–∏–π —Å—Ç—Ä–∏–∫ (–æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ StreakIndicator)
2. –ù–∞–∂–º–∏—Ç–µ "Check In"
3. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
   - –°—Ç—Ä–∏–∫ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞ 1
   - –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è `current_streak` –≤ –ë–î
   - –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è `streak_last_check_in` –≤ –ë–î

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ –ë–î:**
```sql
SELECT current_streak, streak_last_check_in FROM user_settings WHERE user_id = <–≤–∞—à_id>;
```

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ UI:**
- –°—Ç—Ä–∏–∫ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ —á–µ–∫–∏–Ω–∞
- –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –Ω–æ–≤—ã–π —Å—Ç—Ä–∏–∫ –≤ StreakIndicator

---

### 3. –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ Check In –Ω–∞—á–∏—Å–ª—è–µ—Ç—Å—è XP (+10 XP)

**–ß—Ç–æ —ç—Ç–æ:** –ó–∞ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–π —á–µ–∫–∏–Ω –Ω–∞—á–∏—Å–ª—è–µ—Ç—Å—è 10 –æ–ø—ã—Ç–∞.

**–ì–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è:**
- Backend: `pressf/server/routes/profile.js` (—Å—Ç—Ä–æ–∫–∏ 200-250)
- –£—Ç–∏–ª–∏—Ç–∞: `pressf/server/utils/xpSystem.js`

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
1. –ó–∞–ø–æ–º–Ω–∏—Ç–µ —Ç–µ–∫—É—â–∏–π XP (–≤ –ø—Ä–æ—Ñ–∏–ª–µ)
2. –ù–∞–∂–º–∏—Ç–µ "Check In"
3. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
   - XP —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞ 10
   - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ "+10 XP"
   - –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è `experience` –≤ –ë–î

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ –ë–î:**
```sql
SELECT experience, total_xp_earned FROM profiles WHERE user_id = <–≤–∞—à_id>;
```

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ UI:**
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –ø–æ–ª—É—á–µ–Ω–∏–∏ XP
- XP –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –≤ –ø—Ä–æ—Ñ–∏–ª–µ

---

### 4. –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ Check In –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è longest_streak

**–ß—Ç–æ —ç—Ç–æ:** –ï—Å–ª–∏ —Ç–µ–∫—É—â–∏–π —Å—Ç—Ä–∏–∫ –±–æ–ª—å—à–µ —Å–∞–º–æ–≥–æ –¥–ª–∏–Ω–Ω–æ–≥–æ, –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è `longest_streak`.

**–ì–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è:**
- Backend: `pressf/server/routes/profile.js` (–ª–æ–≥–∏–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è longest_streak)

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `current_streak` = 5, `longest_streak` = 3 (—á–µ—Ä–µ–∑ –ë–î)
2. –ù–∞–∂–º–∏—Ç–µ "Check In"
3. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
   - `current_streak` = 6
   - `longest_streak` = 6 (–æ–±–Ω–æ–≤–∏–ª—Å—è)

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ –ë–î:**
```sql
SELECT current_streak, longest_streak FROM user_settings WHERE user_id = <–≤–∞—à_id>;
```

---

### 5. –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ Check In –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –ø–æ–ª—É—á–µ–Ω–∏–∏ XP

**–ß—Ç–æ —ç—Ç–æ:** –í–∏–∑—É–∞–ª—å–Ω–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –Ω–∞—á–∏—Å–ª–µ–Ω–∏–∏ –æ–ø—ã—Ç–∞.

**–ì–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è:**
- Frontend: `pressf/press-f/components/XPNotification.tsx`
- Frontend: `pressf/press-f/screens/Landing.tsx` (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ XPNotification)

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
1. –ù–∞–∂–º–∏—Ç–µ "Check In"
2. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
   - –ü–æ—è–≤–ª—è–µ—Ç—Å—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ "+10 XP"
   - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∞–Ω–∏–º–∏—Ä—É–µ—Ç—Å—è (–ø–æ—è–≤–ª—è–µ—Ç—Å—è —Å–Ω–∏–∑—É)
   - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∏—Å—á–µ–∑–∞–µ—Ç —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤–∏–¥–Ω–æ –Ω–∞ —ç–∫—Ä–∞–Ω–µ
- –ê–Ω–∏–º–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–ª–∞–≤–Ω–æ
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∏—Å—á–µ–∑–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

---

### 6. –ë–æ–Ω—É—Å—ã –∑–∞ —Å—Ç—Ä–∏–∫–∏ –Ω–∞—á–∏—Å–ª—è—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

**–ß—Ç–æ —ç—Ç–æ:** –ü—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –¥–Ω–µ–π —Å—Ç—Ä–∏–∫–∞ –Ω–∞—á–∏—Å–ª—è—é—Ç—Å—è –±–æ–Ω—É—Å—ã.

**–ì–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è:**
- Backend: `pressf/server/routes/profile.js` (–ª–æ–≥–∏–∫–∞ –±–æ–Ω—É—Å–æ–≤ –∑–∞ —Å—Ç—Ä–∏–∫–∏)

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `current_streak` = 2 (—á–µ—Ä–µ–∑ –ë–î)
2. –ù–∞–∂–º–∏—Ç–µ "Check In"
3. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
   - `current_streak` = 3
   - –ù–∞—á–∏—Å–ª—è–µ—Ç—Å—è –±–æ–Ω—É—Å –∑–∞ 3 –¥–Ω—è (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ)

**–ë–æ–Ω—É—Å—ã:**
- 3 –¥–Ω—è ‚Üí –±–æ–Ω—É—Å
- 7 –¥–Ω–µ–π ‚Üí –±–æ–Ω—É—Å
- 14 –¥–Ω–µ–π ‚Üí –±–æ–Ω—É—Å
- 30 –¥–Ω–µ–π ‚Üí –±–æ–Ω—É—Å
- 100 –¥–Ω–µ–π ‚Üí –±–æ–Ω—É—Å

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- –ë–æ–Ω—É—Å—ã –Ω–∞—á–∏—Å–ª—è—é—Ç—Å—è –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ milestones
- –ë–æ–Ω—É—Å—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
- –ë–æ–Ω—É—Å—ã –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤ –ë–î

---

### –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å—Ç—Ä–∏–∫–∞ (StreakIndicator)

**–ì–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è:**
- Frontend: `pressf/press-f/components/StreakIndicator.tsx`
- –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –Ω–∞: –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (Landing)

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
2. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
   - –í–∏–¥–µ–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç StreakIndicator
   - –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Ç–µ–∫—É—â–∏–π —Å—Ç—Ä–∏–∫
   - –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å–∞–º—ã–π –¥–ª–∏–Ω–Ω—ã–π —Å—Ç—Ä–∏–∫
   - –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–π –±–æ–Ω—É—Å

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
- –î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∏–∑ API
- –í–∏–∑—É–∞–ª—å–Ω–æ–µ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

---

### –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è (DailyQuests)

**–ì–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è:**
- Frontend: `pressf/press-f/components/DailyQuests.tsx`
- Backend: `pressf/server/routes/dailyQuests.js`
- –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –Ω–∞: –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (Landing)

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
2. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
   - –í–∏–¥–µ–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç DailyQuests
   - –û—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∑–∞–¥–∞–Ω–∏—è –Ω–∞ —Å–µ–≥–æ–¥–Ω—è
   - –î–ª—è –∫–∞–∂–¥–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è –≤–∏–¥–µ–Ω –ø—Ä–æ–≥—Ä–µ—Å—Å

**–¢–∏–ø—ã –∑–∞–¥–∞–Ω–∏–π:**
- `check_in` - —Å–¥–µ–ª–∞—Ç—å —á–µ–∫-–∏–Ω
- `create_letter` - —Å–æ–∑–¥–∞—Ç—å –ø–∏—Å—å–º–æ
- `create_duel` - —Å–æ–∑–¥–∞—Ç—å –¥—É—ç–ª—å
- `view_hype` - –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø—É–±–ª–∏—á–Ω—É—é –¥—É—ç–ª—å
- `send_gift` - –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –ø–æ–¥–∞—Ä–æ–∫

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- –ó–∞–¥–∞–Ω–∏—è –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è
- –ü—Ä–æ–≥—Ä–µ—Å—Å –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –¥–µ–π—Å—Ç–≤–∏—è—Ö
- –ú–æ–∂–Ω–æ –∑–∞–±—Ä–∞—Ç—å –Ω–∞–≥—Ä–∞–¥—É –∑–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–æ–µ –∑–∞–¥–∞–Ω–∏–µ
- –ù–∞—á–∏—Å–ª—è–µ—Ç—Å—è XP –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –Ω–∞–≥—Ä–∞–¥—ã

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∑–∞–¥–∞–Ω–∏–π:**
```sql
SELECT * FROM daily_quests WHERE user_id = <–≤–∞—à_id> AND assigned_at::date = CURRENT_DATE;
```

---

### –°–µ–∑–æ–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è (SeasonalEvents)

**–ì–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è:**
- Frontend: `pressf/press-f/components/SeasonalEvents.tsx`
- Backend: `pressf/server/routes/events.js`
- –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –Ω–∞: –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (Landing)

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
2. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
   - –í–∏–¥–µ–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç SeasonalEvents (–µ—Å–ª–∏ –µ—Å—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è)
   - –û—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∞–∫—Ç–∏–≤–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è
   - –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –ø—Ä–æ–≥—Ä–µ—Å—Å –ø–æ –∫–≤–µ—Å—Ç–∞–º

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è (–µ—Å–ª–∏ –µ—Å—Ç—å —Å–æ–±—ã—Ç–∏—è)
- –ú–æ–∂–Ω–æ –∑–∞–±—Ä–∞—Ç—å –Ω–∞–≥—Ä–∞–¥—ã –∑–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∫–≤–µ—Å—Ç—ã
- –ü—Ä–æ–≥—Ä–µ—Å—Å –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –¥–µ–π—Å—Ç–≤–∏—è—Ö

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –ë–î:**
```sql
SELECT * FROM seasonal_events WHERE is_active = true;
SELECT * FROM user_event_progress WHERE user_id = <–≤–∞—à_id>;
```

---

### –¢—É—Ä–Ω–∏—Ä—ã (Tournaments)

**–ì–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è:**
- Frontend: `pressf/press-f/components/Tournaments.tsx`
- Backend: `pressf/server/routes/tournaments.js`
- –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –Ω–∞: –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (Landing)

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
2. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
   - –í–∏–¥–µ–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç Tournaments
   - –û—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –ø—Ä–µ–¥—Å—Ç–æ—è—â–∏–µ/–∞–∫—Ç–∏–≤–Ω—ã–µ/–∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ —Ç—É—Ä–Ω–∏—Ä—ã

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
- –ú–æ–∂–Ω–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞ —Ç—É—Ä–Ω–∏—Ä
- –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –ª–∏–¥–µ—Ä–±–æ—Ä–¥
- –û—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –º–∞—Ç—á–∏

---

### –õ–µ–Ω—Ç–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ (ActivityFeed)

**–ì–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è:**
- Frontend: `pressf/press-f/components/ActivityFeed.tsx`
- Backend: `pressf/server/routes/activity.js`
- –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –Ω–∞: –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (Landing)

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
2. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
   - –í–∏–¥–µ–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç ActivityFeed
   - –û—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –ø–æ—Å–ª–µ–¥–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

**–¢–∏–ø—ã –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π:**
- –°–æ–∑–¥–∞–Ω–∏–µ –ø–∏—Å—å–º–∞
- –°–æ–∑–¥–∞–Ω–∏–µ –¥—É—ç–ª–∏
- –û—Ç–ø—Ä–∞–≤–∫–∞ –ø–æ–¥–∞—Ä–∫–∞
- –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–¥–∞—Ä–∫–∞
- –ü—Ä–æ—Å–º–æ—Ç—Ä –ø—É–±–ª–∏—á–Ω–æ–π –¥—É—ç–ª–∏

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
- –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è
- –ü–∞–≥–∏–Ω–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç

---

## ‚úâÔ∏è –ü–ò–°–¨–ú–ê (Letters)

**–ì–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è:**
- Frontend: `pressf/press-f/screens/Letters.tsx`
- Backend: `pressf/server/routes/letters.js`
- API: `/api/letters`

**–ö–∞–∫ –æ—Ç–∫—Ä—ã—Ç—å:**
1. –í –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –≤—ã–±–µ—Ä–∏—Ç–µ "–ü–∏—Å—å–º–∞" –∏–ª–∏ "Letters"
2. –ò–ª–∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ URL: `/#/letters`

---

### 1. –û—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤—Å–µ –ø–∏—Å—å–º–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**–ß—Ç–æ —ç—Ç–æ:** –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–∏—Å–µ–º, —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º.

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É "–ü–∏—Å—å–º–∞"
2. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
   - –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å–ø–∏—Å–æ–∫ –ø–∏—Å–µ–º
   - –ü–∏—Å—å–º–∞ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∏–∑ API

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- –ü–∏—Å—å–º–∞ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è
- –ó–∞–≥—Ä—É–∑–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
- –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª–∏

**–ü—Ä–æ–≤–µ—Ä–∫–∞ API:**
```bash
curl -H "X-Session-Id: <–≤–∞—à_session_id>" https://pressfbot.ru/api/letters
```

---

### 2. –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Å—Ç–∞—Ç—É—Å—É —Ä–∞–±–æ—Ç–∞–µ—Ç

**–ß—Ç–æ —ç—Ç–æ:** –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –ø–∏—Å—å–º–∞ –ø–æ —Å—Ç–∞—Ç—É—Å—É (draft, sent, received, archived).

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É "–ü–∏—Å—å–º–∞"
2. –í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∏–ª—å—Ç—Ä –ø–æ —Å—Ç–∞—Ç—É—Å—É
3. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
   - –û—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–∏—Å—å–º–∞ —Å –≤—ã–±—Ä–∞–Ω–Ω—ã–º —Å—Ç–∞—Ç—É—Å–æ–º

**–°—Ç–∞—Ç—É—Å—ã:**
- `draft` - —á–µ—Ä–Ω–æ–≤–∏–∫
- `sent` - –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ
- `received` - –ø–æ–ª—É—á–µ–Ω–æ
- `archived` - –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–æ

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- –§–∏–ª—å—Ç—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç
- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ñ–∏–ª—å—Ç—Ä–∞

---

### 3. –°–æ–∑–¥–∞–Ω–∏–µ –ø–∏—Å—å–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–ß—Ç–æ —ç—Ç–æ:** –§–æ—Ä–º–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ –ø–∏—Å—å–º–∞.

**–ì–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è:**
- Frontend: `pressf/press-f/screens/CreateLetter.tsx`
- Backend: `pressf/server/routes/letters.js` (POST /api/letters)

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å–æ–∑–¥–∞–Ω–∏—è –ø–∏—Å—å–º–∞ (–∫–Ω–æ–ø–∫–∞ "–°–æ–∑–¥–∞—Ç—å –ø–∏—Å—å–º–æ")
2. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É:
   - –ù–∞–∑–≤–∞–Ω–∏–µ (title)
   - –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ (content)
   - –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: –≤–ª–æ–∂–µ–Ω–∏—è, –¥–∞—Ç–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏, —Ç–∏–ø, –ø–æ–ª—É—á–∞—Ç–µ–ª—å
3. –ù–∞–∂–º–∏—Ç–µ "–°–æ–∑–¥–∞—Ç—å"
4. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
   - –ü–∏—Å—å–º–æ —Å–æ–∑–¥–∞–µ—Ç—Å—è
   - –ù–∞—á–∏—Å–ª—è–µ—Ç—Å—è +25 XP
   - –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø—Ä–æ–≥—Ä–µ—Å—Å –∑–∞–¥–∞–Ω–∏—è `create_letter`
   - –ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –≤ –ª–µ–Ω—Ç—É
   - –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø–∏—Å–µ–º

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- –§–æ—Ä–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç
- –ü–∏—Å—å–º–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ë–î
- XP –Ω–∞—á–∏—Å–ª—è–µ—Ç—Å—è
- –ü—Ä–æ–≥—Ä–µ—Å—Å –∑–∞–¥–∞–Ω–∏—è –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –ë–î:**
```sql
SELECT * FROM letters WHERE user_id = <–≤–∞—à_id> ORDER BY created_at DESC LIMIT 1;
```

---

### 4. –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∏—Å—å–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–ß—Ç–æ —ç—Ç–æ:** –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–µ –ø–∏—Å—å–º–æ.

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø–∏—Å—å–º–æ
2. –ù–∞–∂–º–∏—Ç–µ "–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å"
3. –í–Ω–µ—Å–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
4. –ù–∞–∂–º–∏—Ç–µ "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"
5. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
   - –ò–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è
   - –ü–∏—Å—å–º–æ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –≤ –ë–î

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- –ò–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è
- –ò—Å—Ç–æ—Ä–∏—è –≤–µ—Ä—Å–∏–π –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è (–µ—Å–ª–∏ –µ—Å—Ç—å)

---

### 5. –£–¥–∞–ª–µ–Ω–∏–µ –ø–∏—Å—å–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–ß—Ç–æ —ç—Ç–æ:** –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É–¥–∞–ª–∏—Ç—å –ø–∏—Å—å–º–æ.

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø–∏—Å—å–º–æ
2. –ù–∞–∂–º–∏—Ç–µ "–£–¥–∞–ª–∏—Ç—å"
3. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ —É–¥–∞–ª–µ–Ω–∏–µ
4. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
   - –ü–∏—Å—å–º–æ —É–¥–∞–ª—è–µ—Ç—Å—è
   - –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ —Å–ø–∏—Å–æ–∫ –ø–∏—Å–µ–º

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- –£–¥–∞–ª–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- –ü–∏—Å—å–º–æ —É–¥–∞–ª—è–µ—Ç—Å—è –∏–∑ –ë–î

---

## ‚öîÔ∏è –î–£–≠–õ–ò (Duels)

**–ì–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è:**
- Frontend: `pressf/press-f/screens/Duels.tsx`
- Backend: `pressf/server/routes/duels.js`
- API: `/api/duels`

**–ö–∞–∫ –æ—Ç–∫—Ä—ã—Ç—å:**
1. –í –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –≤—ã–±–µ—Ä–∏—Ç–µ "–î—É—ç–ª–∏" –∏–ª–∏ "Duels"
2. –ò–ª–∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ URL: `/#/duels`

---

### 1. –û—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤—Å–µ –¥—É—ç–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**–ß—Ç–æ —ç—Ç–æ:** –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –¥—É—ç–ª–µ–π, —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º.

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É "–î—É—ç–ª–∏"
2. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
   - –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å–ø–∏—Å–æ–∫ –¥—É—ç–ª–µ–π
   - –î—É—ç–ª–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∏–∑ API

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- –î—É—ç–ª–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è
- –ó–∞–≥—Ä—É–∑–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
- –ù–µ—Ç –æ—à–∏–±–æ–∫

---

### 2. –í–∫–ª–∞–¥–∫–∞ "Hype" (–ø—É–±–ª–∏—á–Ω—ã–µ –¥—É—ç–ª–∏) —Ä–∞–±–æ—Ç–∞–µ—Ç

**–ß—Ç–æ —ç—Ç–æ:** –ü—É–±–ª–∏—á–Ω—ã–µ –¥—É—ç–ª–∏, –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤.

**–ì–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è:**
- Frontend: `pressf/press-f/screens/Duels.tsx` (–≤–∫–ª–∞–¥–∫–∞ "Hype")
- Backend: `pressf/server/routes/duels.js` (GET /api/duels/hype)

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É "–î—É—ç–ª–∏"
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É "Hype"
3. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
   - –û—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –ø—É–±–ª–∏—á–Ω—ã–µ –¥—É—ç–ª–∏
   - –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ `viewsCount` (–ø–æ —É–±—ã–≤–∞–Ω–∏—é)
   - –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- –ü—É–±–ª–∏—á–Ω—ã–µ –¥—É—ç–ª–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è
- –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è

---

### 3. –ü—Ä–æ—Å–º–æ—Ç—Ä –ø—É–±–ª–∏—á–Ω–æ–π –¥—É—ç–ª–∏ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Å—á–µ—Ç—á–∏–∫

**–ß—Ç–æ —ç—Ç–æ:** –ü—Ä–∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ –ø—É–±–ª–∏—á–Ω–æ–π –¥—É—ç–ª–∏ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è —Å—á–µ—Ç—á–∏–∫ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤.

**–ì–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è:**
- Frontend: `pressf/press-f/screens/Duels.tsx` (–ª–æ–≥–∏–∫–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞)
- Backend: `pressf/server/routes/duels.js` (POST /api/duels/:id/view)

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—É–±–ª–∏—á–Ω—É—é –¥—É—ç–ª—å –≤–æ –≤–∫–ª–∞–¥–∫–µ "Hype"
2. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
   - –°—á–µ—Ç—á–∏–∫ `viewsCount` —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞ 1
   - –£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑ –∑–∞ —Å–µ—Å—Å–∏—é (sessionStorage)
   - –ü—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ milestones (100, 500, 1000) –Ω–∞—á–∏—Å–ª—è—é—Ç—Å—è –Ω–∞–≥—Ä–∞–¥—ã

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- –°—á–µ—Ç—á–∏–∫ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è
- –ù–µ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –ø–æ–≤—Ç–æ—Ä–Ω–æ –≤ —Ç–æ–π –∂–µ —Å–µ—Å—Å–∏–∏
- –ù–∞–≥—Ä–∞–¥—ã –∑–∞ milestones –Ω–∞—á–∏—Å–ª—è—é—Ç—Å—è

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –ë–î:**
```sql
SELECT views_count FROM duels WHERE id = <id_–¥—É—ç–ª–∏>;
```

---

### 4. –°–æ–∑–¥–∞–Ω–∏–µ –¥—É—ç–ª–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–ß—Ç–æ —ç—Ç–æ:** –§–æ—Ä–º–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–π –¥—É—ç–ª–∏.

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É "–î—É—ç–ª–∏"
2. –ù–∞–∂–º–∏—Ç–µ "–°–æ–∑–¥–∞—Ç—å –¥—É—ç–ª—å"
3. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É:
   - –ù–∞–∑–≤–∞–Ω–∏–µ (title)
   - –û–ø–ø–æ–Ω–µ–Ω—Ç (opponentId)
   - –°—Ç–∞–≤–∫–∞ (stake)
   - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–≤–∏–¥–µ—Ç–µ–ª–µ–π (witnessCount)
   - –ü—É–±–ª–∏—á–Ω–∞—è/–ø—Ä–∏–≤–∞—Ç–Ω–∞—è (isPublic)
4. –ù–∞–∂–º–∏—Ç–µ "–°–æ–∑–¥–∞—Ç—å"
5. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
   - –î—É—ç–ª—å —Å–æ–∑–¥–∞–µ—Ç—Å—è
   - –ù–∞—á–∏—Å–ª—è–µ—Ç—Å—è +30 XP
   - –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø—Ä–æ–≥—Ä–µ—Å—Å –∑–∞–¥–∞–Ω–∏—è `create_duel`
   - –ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –≤ –ª–µ–Ω—Ç—É

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- –§–æ—Ä–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç
- –î—É—ç–ª—å —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ë–î
- XP –Ω–∞—á–∏—Å–ª—è–µ—Ç—Å—è

---

## üë§ –ü–†–û–§–ò–õ–¨ (Profile)

**–ì–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è:**
- Frontend: `pressf/press-f/screens/Profile.tsx`
- Backend: `pressf/server/routes/profile.js`
- API: `/api/profile`

**–ö–∞–∫ –æ—Ç–∫—Ä—ã—Ç—å:**
1. –í –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –≤—ã–±–µ—Ä–∏—Ç–µ "–ü—Ä–æ—Ñ–∏–ª—å" –∏–ª–∏ "Profile"
2. –ò–ª–∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ URL: `/#/profile`

---

### 1. –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ—Ñ–∏–ª–µ

**–ß—Ç–æ —ç—Ç–æ:** –í—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ: –∏–º—è, –∞–≤–∞—Ç–∞—Ä, —É—Ä–æ–≤–µ–Ω—å, XP, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞.

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É "–ü—Ä–æ—Ñ–∏–ª—å"
2. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
   - –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   - –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∞–≤–∞—Ç–∞—Ä
   - –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —É—Ä–æ–≤–µ–Ω—å –∏ —Ç–∏—Ç—É–ª
   - –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Ç–µ–∫—É—â–∏–π XP –∏ XP –¥–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ —É—Ä–æ–≤–Ω—è
   - –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä —É—Ä–æ–≤–Ω—è
   - –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –±–∏–æ–≥—Ä–∞—Ñ–∏—è
   - –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- –í—Å–µ –¥–∞–Ω–Ω—ã–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è
- –î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∏–∑ API
- –ù–µ—Ç –æ—à–∏–±–æ–∫

---

### 2. –°–∏—Å—Ç–µ–º–∞ —É—Ä–æ–≤–Ω–µ–π —Ä–∞–±–æ—Ç–∞–µ—Ç

**–ß—Ç–æ —ç—Ç–æ:** –£—Ä–æ–≤–Ω–∏ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –∏–∑ XP, —Ç–∏—Ç—É–ª—ã –ø—Ä–∏—Å–≤–∞–∏–≤–∞—é—Ç—Å—è –ø–æ —É—Ä–æ–≤–Ω—è–º.

**–ì–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è:**
- Backend: `pressf/server/utils/xpSystem.js`
- Frontend: `pressf/press-f/utils/levelSystem.ts`

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–µ–∫—É—â–∏–π —É—Ä–æ–≤–µ–Ω—å –∏ XP
2. –ü–æ–ª—É—á–∏—Ç–µ XP (—á–µ—Ä–µ–∑ —á–µ–∫-–∏–Ω –∏–ª–∏ —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞)
3. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
   - –ü—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ –ø–æ—Ä–æ–≥–∞ —É—Ä–æ–≤–Ω—è —É—Ä–æ–≤–µ–Ω—å —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è
   - –ü—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç—Å—è –Ω–æ–≤—ã–π —Ç–∏—Ç—É–ª
   - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∞–Ω–∏–º–∞—Ü–∏—è –ø–æ–≤—ã—à–µ–Ω–∏—è —É—Ä–æ–≤–Ω—è
   - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è confetti

**–£—Ä–æ–≤–Ω–∏ –∏ —Ç–∏—Ç—É–ª—ã:**
- 1 ‚Üí "–ù–æ–≤–∏—á–æ–∫"
- 5 ‚Üí "–£—á–µ–Ω–∏–∫"
- 10 ‚Üí "–û–ø—ã—Ç–Ω—ã–π"
- 15 ‚Üí "–í–µ—Ç–µ—Ä–∞–Ω"
- 20 ‚Üí "–ú–∞—Å—Ç–µ—Ä"
- 25 ‚Üí "–≠–∫—Å–ø–µ—Ä—Ç"
- 30 ‚Üí "–õ–µ–≥–µ–Ω–¥–∞"
- 35 ‚Üí "–ú–∏—Ñ"
- 40 ‚Üí "–ë–µ—Å—Å–º–µ—Ä—Ç–Ω—ã–π"
- 50 ‚Üí "–ë–æ–≥"

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- –£—Ä–æ–≤–µ–Ω—å —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –¢–∏—Ç—É–ª —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —É—Ä–æ–≤–Ω—é
- –ê–Ω–∏–º–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç
- Confetti —Ä–∞–±–æ—Ç–∞–µ—Ç

---

### 3. –í—ã–±–æ—Ä –∞–≤–∞—Ç–∞—Ä–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–ß—Ç–æ —ç—Ç–æ:** –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤—ã–±—Ä–∞—Ç—å –∞–≤–∞—Ç–∞—Ä –∏–∑ —Å–ø–∏—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–Ω—ã—Ö –∞–≤–∞—Ç–∞—Ä–æ–≤.

**–ì–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è:**
- Frontend: `pressf/press-f/screens/Profile.tsx` (–º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –≤—ã–±–æ—Ä–∞ –∞–≤–∞—Ç–∞—Ä–∞)
- Backend: `pressf/server/routes/avatars.js` (GET /api/avatars)
- –ê–≤–∞—Ç–∞—Ä—ã: `pressf/server/static/avatars/`

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É "–ü—Ä–æ—Ñ–∏–ª—å"
2. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ —Ç–µ–∫—É—â–∏–π –∞–≤–∞—Ç–∞—Ä
3. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
   - –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å –∞–≤–∞—Ç–∞—Ä–∞–º–∏
   - –û—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤—Å–µ –∞–≤–∞—Ç–∞—Ä—ã —Å —Å–µ—Ä–≤–µ—Ä–∞
   - –ú–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –∞–≤–∞—Ç–∞—Ä
   - –ê–≤–∞—Ç–∞—Ä —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ø—Ä–æ—Ñ–∏–ª–µ

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è
- –ê–≤–∞—Ç–∞—Ä—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Å —Å–µ—Ä–≤–µ—Ä–∞
- –í—ã–±–æ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç
- –ê–≤–∞—Ç–∞—Ä —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è
- –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `pressf.jpg`

**–ü—Ä–æ–≤–µ—Ä–∫–∞ API:**
```bash
curl https://pressfbot.ru/api/avatars
```

---

### 4. –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–ß—Ç–æ —ç—Ç–æ:** –°–∏—Å—Ç–µ–º–∞ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è –¥—Ä—É–∑–µ–π —Å –Ω–∞–≥—Ä–∞–¥–∞–º–∏.

**–ì–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è:**
- Frontend: `pressf/press-f/components/ReferralSection.tsx`
- Backend: `pressf/server/routes/profile.js` (GET /api/profile/referral)
- –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –Ω–∞: –ü—Ä–æ—Ñ–∏–ª—å ‚Üí –≤–∫–ª–∞–¥–∫–∞ "Stats"

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ—Ñ–∏–ª—å ‚Üí –≤–∫–ª–∞–¥–∫–∞ "Stats"
2. –ù–∞–π–¥–∏—Ç–µ —Ä–∞–∑–¥–µ–ª "–†–µ—Ñ–µ—Ä–∞–ª—ã"
3. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
   - –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã–π –∫–æ–¥
   - –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–Ω—ã—Ö
   - –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–π milestone
   - –ú–æ–∂–Ω–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É
   - –ú–æ–∂–Ω–æ –ø–æ–¥–µ–ª–∏—Ç—å—Å—è —á–µ—Ä–µ–∑ Telegram
   - –ú–æ–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å QR-–∫–æ–¥
   - –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å–ø–∏—Å–æ–∫ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–Ω—ã—Ö

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- –í—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è
- –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Å—ã–ª–∫–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- –ü–æ–¥–µ–ª–∏—Ç—å—Å—è —Ä–∞–±–æ—Ç–∞–µ—Ç
- QR-–∫–æ–¥ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è

---

### 5. –ü–æ–¥–∞—Ä–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç

**–ß—Ç–æ —ç—Ç–æ:** –°–∏—Å—Ç–µ–º–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –∏ –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–¥–∞—Ä–∫–æ–≤ –º–µ–∂–¥—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏.

**–ì–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è:**
- Frontend: `pressf/press-f/components/SendGiftModal.tsx`
- Backend: `pressf/server/routes/gifts.js`
- –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –Ω–∞: –ü—Ä–æ—Ñ–∏–ª—å ‚Üí –≤–∫–ª–∞–¥–∫–∞ "Stats"

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**

#### –û—Ç–ø—Ä–∞–≤–∫–∞ –ø–æ–¥–∞—Ä–∫–∞:
1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ—Ñ–∏–ª—å ‚Üí –≤–∫–ª–∞–¥–∫–∞ "Stats"
2. –ù–∞–∂–º–∏—Ç–µ "–û—Ç–ø—Ä–∞–≤–∏—Ç—å –ø–æ–¥–∞—Ä–æ–∫"
3. –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –ø–æ–¥–∞—Ä–∫–∞, –ø–æ–ª—É—á–∞—Ç–µ–ª—è, –¥–æ–±–∞–≤—å—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
4. –ù–∞–∂–º–∏—Ç–µ "–û—Ç–ø—Ä–∞–≤–∏—Ç—å"
5. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
   - –ü–æ–¥–∞—Ä–æ–∫ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è
   - –°–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è —Ä–µ–ø—É—Ç–∞—Ü–∏—è (cost)
   - –ü–æ–ª—É—á–∞—Ç–µ–ª—é –Ω–∞—á–∏—Å–ª—è–µ—Ç—Å—è 10% –æ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏

#### –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–¥–∞—Ä–∫–∞:
1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ—Ñ–∏–ª—å ‚Üí –≤–∫–ª–∞–¥–∫–∞ "Stats"
2. –ù–∞–π–¥–∏—Ç–µ —Ä–∞–∑–¥–µ–ª "–ü–æ–ª—É—á–µ–Ω–Ω—ã–µ –ø–æ–¥–∞—Ä–∫–∏"
3. –ù–∞–∂–º–∏—Ç–µ "–ó–∞–±—Ä–∞—Ç—å" –Ω–∞ –ø–æ–¥–∞—Ä–∫–µ
4. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
   - –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è —ç—Ñ—Ñ–µ–∫—Ç –ø–æ–¥–∞—Ä–∫–∞
   - –ù–∞—á–∏—Å–ª—è–µ—Ç—Å—è —Ä–µ–ø—É—Ç–∞—Ü–∏—è –ø–æ–ª—É—á–∞—Ç–µ–ª—é

**–¢–∏–ø—ã –ø–æ–¥–∞—Ä–∫–æ–≤:**
- Energy (‚ö°) - +1 –¥–µ–Ω—å –∫ —Å—Ç—Ä–∏–∫—É (50 —Ä–µ–ø—É—Ç–∞—Ü–∏–∏)
- Protection (üõ°Ô∏è) - –ø—Ä–æ–ø—É—Å–∫ –¥–Ω—è (100 —Ä–µ–ø—É—Ç–∞—Ü–∏–∏)
- Boost (üöÄ) - +50% –∫ –æ–ø—ã—Ç—É –Ω–∞ 24 —á–∞—Å–∞ (150 —Ä–µ–ø—É—Ç–∞—Ü–∏–∏)
- Legend (üëë) - —ç–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–π —Ç–∏—Ç—É–ª –Ω–∞ –Ω–µ–¥–µ–ª—é (500 —Ä–µ–ø—É—Ç–∞—Ü–∏–∏)

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- –û—Ç–ø—Ä–∞–≤–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
- –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- –≠—Ñ—Ñ–µ–∫—Ç—ã –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è
- –†–µ–ø—É—Ç–∞—Ü–∏—è —Å–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è/–Ω–∞—á–∏—Å–ª—è–µ—Ç—Å—è

---

## üîç –ü–û–ò–°–ö (Search)

**–ì–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è:**
- Frontend: `pressf/press-f/screens/Search.tsx`
- Backend: `pressf/server/index.js` (GET /api/search)

**–ö–∞–∫ –æ—Ç–∫—Ä—ã—Ç—å:**
1. –í –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –≤—ã–±–µ—Ä–∏—Ç–µ "–ü–æ–∏—Å–∫" –∏–ª–∏ "Search"
2. –ò–ª–∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ URL: `/#/search`

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É "–ü–æ–∏—Å–∫"
2. –í–≤–µ–¥–∏—Ç–µ –∑–∞–ø—Ä–æ—Å (–º–∏–Ω–∏–º—É–º 2 —Å–∏–º–≤–æ–ª–∞)
3. –ù–∞–∂–º–∏—Ç–µ "–ü–æ–∏—Å–∫"
4. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
   - –û—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ –≤—Å–µ–º —Ç–∏–ø–∞–º –∫–æ–Ω—Ç–µ–Ω—Ç–∞:
     - –ü–∏—Å—å–º–∞ (letters)
     - –î—É—ç–ª–∏ (duels)
     - Legacy items
   - –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ–≥—Ä–∞–Ω–∏—á–µ–Ω—ã (max 20)
   - –ü–∞–≥–∏–Ω–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- –ü–æ–∏—Å–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç
- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç
- Rate limiting —Ä–∞–±–æ—Ç–∞–µ—Ç (–Ω–µ–ª—å–∑—è —Å–ø–∞–º–∏—Ç—å)

---

## üîí –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨

### Rate Limiting

**–ß—Ç–æ —ç—Ç–æ:** –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç —Å–ø–∞–º–∞.

**–ì–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è:**
- Backend: `pressf/server/index.js` (rate limiters)

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
1. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –º–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –ø–æ–¥—Ä—è–¥ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–æ–∑–¥–∞–Ω–∏–µ –ø–∏—Å–µ–º)
2. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
   - –ü–æ—Å–ª–µ –ø—Ä–µ–≤—ã—à–µ–Ω–∏—è –ª–∏–º–∏—Ç–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –æ—à–∏–±–∫–∞ `429 Too Many Requests`
   - –í –æ—Ç–≤–µ—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–∞

**–õ–∏–º–∏—Ç—ã:**
- –ì–ª–æ–±–∞–ª—å–Ω—ã–π: 100 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –º–∏–Ω—É—Ç—É
- Verify: 10 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –º–∏–Ω—É—Ç—É
- –°–æ–∑–¥–∞–Ω–∏–µ –ø–∏—Å–µ–º: 20 –≤ –º–∏–Ω—É—Ç—É
- –°–æ–∑–¥–∞–Ω–∏–µ –¥—É—ç–ª–µ–π: 20 –≤ –º–∏–Ω—É—Ç—É
- –ü–æ–∏—Å–∫: 30 –≤ –º–∏–Ω—É—Ç—É

---

### CORS

**–ß—Ç–æ —ç—Ç–æ:** –ó–∞—â–∏—Ç–∞ –æ—Ç –∑–∞–ø—Ä–æ—Å–æ–≤ —Å –Ω–µ—Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã—Ö –¥–æ–º–µ–Ω–æ–≤.

**–ì–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è:**
- Backend: `pressf/server/index.js` (CORS middleware)

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
1. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∑–∞–ø—Ä–æ—Å —Å –Ω–µ—Ä–∞–∑—Ä–µ—à–µ–Ω–Ω–æ–≥–æ –¥–æ–º–µ–Ω–∞
2. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
   - –ó–∞–ø—Ä–æ—Å –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –æ—à–∏–±–∫–∞ CORS

**–†–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ –¥–æ–º–µ–Ω—ã:**
- `WEB_APP_URL` –∏–∑ .env
- `https://pressfbot.ru`
- `https://www.pressfbot.ru`

---

## üíæ –ö–≠–®–ò–†–û–í–ê–ù–ò–ï

**–ß—Ç–æ —ç—Ç–æ:** –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —á–∞—Å—Ç–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ Redis.

**–ì–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è:**
- Backend: `pressf/server/utils/cache.js`
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤: –ø—Ä–æ—Ñ–∏–ª–∏, –∞–≤–∞—Ç–∞—Ä—ã, –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
1. –ó–∞–ø—Ä–æ—Å–∏—Ç–µ –ø—Ä–æ—Ñ–∏–ª—å (–ø–µ—Ä–≤—ã–π —Ä–∞–∑)
2. –ó–∞–ø—Ä–æ—Å–∏—Ç–µ –ø—Ä–æ—Ñ–∏–ª—å –µ—â–µ —Ä–∞–∑ (–≤ —Ç–µ—á–µ–Ω–∏–µ 5 –º–∏–Ω—É—Ç)
3. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
   - –ü–µ—Ä–≤—ã–π –∑–∞–ø—Ä–æ—Å –∏–¥–µ—Ç –≤ –ë–î
   - –í—Ç–æ—Ä–æ–π –∑–∞–ø—Ä–æ—Å –±–µ—Ä–µ—Ç—Å—è –∏–∑ –∫—ç—à–∞ (–±—ã—Å—Ç—Ä–µ–µ)
   - –í –ª–æ–≥–∞—Ö –≤–∏–¥–Ω–æ `Profile cache hit`

**TTL:**
- –ü—Ä–æ—Ñ–∏–ª–∏: 5 –º–∏–Ω—É—Ç
- –ê–≤–∞—Ç–∞—Ä—ã: 1 —á–∞—Å
- –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è: 5 –º–∏–Ω—É—Ç

---

## üìä –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–¨

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ DevTools ‚Üí Network
2. –í—ã–ø–æ–ª–Ω–∏—Ç–µ —Ä–∞–∑–ª–∏—á–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è
3. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
   - –ó–∞–ø—Ä–æ—Å—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –±—ã—Å—Ç—Ä–æ (< 1 —Å–µ–∫)
   - –ù–µ—Ç –¥–æ–ª–≥–∏—Ö –∑–∞–¥–µ—Ä–∂–µ–∫
   - –ü–∞–≥–∏–Ω–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –∑–∞–¥–µ—Ä–∂–µ–∫

**–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:**
- –ò–Ω–¥–µ–∫—Å—ã –≤ –ë–î
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ Redis
- –ü–∞–≥–∏–Ω–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤
- –õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

---

## üêõ –û–ë–†–ê–ë–û–¢–ö–ê –û–®–ò–ë–û–ö

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
1. –í—ã–∑–æ–≤–∏—Ç–µ —Ä–∞–∑–ª–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏ (–Ω–µ–≤–∞–ª–∏–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∏ —Ç.–¥.)
2. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
   - –û—à–∏–±–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –ø–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
   - –û—à–∏–±–∫–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è

**–¢–∏–ø—ã –æ—à–∏–±–æ–∫:**
- 400 - –ù–µ–≤–∞–ª–∏–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- 401 - –ù–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
- 403 - –ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞
- 404 - –ù–µ –Ω–∞–π–¥–µ–Ω–æ
- 429 - –ü—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç
- 500 - –û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

---

## üìù –õ–û–ì–ò–†–û–í–ê–ù–ò–ï

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
1. –í—ã–ø–æ–ª–Ω–∏—Ç–µ —Ä–∞–∑–ª–∏—á–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:
```bash
docker compose logs backend --tail=100
```
3. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
   - –õ–æ–≥–∏ –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è
   - –õ–æ–≥–∏ —Å–æ–¥–µ—Ä–∂–∞—Ç –ø–æ–ª–µ–∑–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
   - –£—Ä–æ–≤–Ω–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç (info, warn, error, debug)

---

## üîÑ –§–û–ù–û–í–´–ï –ó–ê–î–ê–ß–ò

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –µ–∂–µ–¥–Ω–µ–≤–Ω—ã—Ö –∑–∞–¥–∞–Ω–∏–π

**–ß—Ç–æ —ç—Ç–æ:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –µ–∂–µ–¥–Ω–µ–≤–Ω—ã—Ö –∑–∞–¥–∞–Ω–∏–π –¥–ª—è –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ 00:00 UTC.

**–ì–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è:**
- Backend: `pressf/server/index.js` (scheduled job)
- Backend: `pressf/server/routes/dailyQuests.js` (—Ñ—É–Ω–∫—Ü–∏—è `generateDailyQuestsForAllUsers`)

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ –ë–î:
```sql
SELECT * FROM daily_quests WHERE assigned_at::date = CURRENT_DATE;
```
2. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
   - –î–ª—è –∫–∞–∂–¥–æ–≥–æ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å–æ–∑–¥–∞–Ω—ã –∑–∞–¥–∞–Ω–∏—è –Ω–∞ —Å–µ–≥–æ–¥–Ω—è

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- –ó–∞–¥–∞–Ω–∏—è –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –ó–∞–¥–∞–Ω–∏—è —Å–æ–∑–¥–∞—é—Ç—Å—è –¥–ª—è –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ó–∞–¥–∞–Ω–∏—è –∏–º–µ—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ç–∏–ø—ã

---

## üì¶ –†–ê–ó–í–ï–†–¢–´–í–ê–ù–ò–ï

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤:
```bash
docker compose ps
```
2. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
   - –í—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –≤ —Å—Ç–∞—Ç—É—Å–µ `Up`
   - –ù–µ—Ç –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–æ–≤

3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Traefik:
```bash
docker compose logs traefik --tail=50
```
4. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
   - Traefik —Ä–∞–±–æ—Ç–∞–µ—Ç
   - –ú–∞—Ä—à—Ä—É—Ç—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
   - SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –≤–∞–ª–∏–¥–Ω—ã

5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å:
```bash
curl https://pressfbot.ru/api/health
```
6. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è `200 OK`
   - –í –æ—Ç–≤–µ—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å—Ç–∞—Ç—É—Å–µ —Å–µ—Ä–≤–∏—Å–æ–≤

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2026-01-29  
**–í–µ—Ä—Å–∏—è:** 1.0  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
