@import "tailwindcss";

/* Шрифт для русской локали (TTF) — положите файл в public/fonts/StieglitzSP.ttf */
@font-face {
  font-family: 'Stieglitz SP';
  src: url('/fonts/StieglitzSP.ttf') format('truetype');
  font-weight: normal;
  font-style: normal;
  font-display: swap;
}

@theme {
  --color-bg: #0f0d16;
  --color-card: #1a1720;
  --color-primary: #ffffff;
  --color-muted: #b0b8c2;
  --color-border: rgba(255, 255, 255, 0.1);
  --color-input: rgba(255, 255, 255, 0.05);
  --color-accent-lime: #B4FF00;
  --color-accent-cyan: #00E0FF;
  --color-accent-pink: #FF4DD2;
  --color-accent-gold: #FFD700;
  --font-heading: "Rubik Wet Paint", cursive;
  --font-body: "Fondamento", cursive;
  --font-logo: "Rye", cursive;
  --animate-pulse-fast: pulse 1s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  --animate-spin-slow: spin 20s linear infinite;
  --animate-float: float 6s ease-in-out infinite;
  --animate-scan: scan 4s linear infinite;
  --spacing-content-bottom: 5rem;
}

/* GPU-слой для анимаций: меньше лагов за счёт отдельного композитного слоя */
[class*="animate-spin-slow"],
[class*="animate-float"] {
  will-change: transform;
  transform: translateZ(0);
  backface-visibility: hidden;
}
[class*="animate-pulse"]:not([class*="motion-reduce:animate-none"]) {
  will-change: opacity;
  transform: translateZ(0);
}
[class*="animate-scan"] {
  will-change: top;
  transform: translateZ(0);
}

/* Фоновые декорации (иконки за контентом) — изоляция перерисовки */
.bg-decor {
  contain: layout paint;
}

@keyframes spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

/* Вращение кольца вокруг черепа: отдельная анимация, плавная и без конфликтов с GPU-правилами */
@keyframes skull-ring-rotate {
  from { transform: rotate(0deg) translateZ(0); }
  to { transform: rotate(360deg) translateZ(0); }
}
.skull-ring-rotate {
  animation: skull-ring-rotate 24s linear infinite;
  will-change: transform;
  backface-visibility: hidden;
}
@media (prefers-reduced-motion: reduce) {
  .skull-ring-rotate { animation: none; }
}

/* Фоновая иконка (часы, сумка и т.д.): вращение без конфликта с GPU-правилами */
@keyframes bg-decor-spin {
  from { transform: rotate(0deg) translateZ(0); }
  to { transform: rotate(360deg) translateZ(0); }
}
.bg-decor-spin {
  animation: bg-decor-spin 20s linear infinite;
  will-change: transform;
  backface-visibility: hidden;
}
@media (prefers-reduced-motion: reduce) {
  .bg-decor-spin { animation: none; }
}

@keyframes float {
  0%, 100% { transform: translateY(0) translateZ(0); }
  50% { transform: translateY(-20px) translateZ(0); }
}

@keyframes scan {
  0%, 100% { top: 0%; }
  50% { top: 100%; }
}

/* Global styles */
html, body, #root {
  height: 100%;
  margin: 0;
  padding: 0;
}
body {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  font-family: var(--font-body);
}

/* Плавность скролла и отзывчивость тапов */
html {
  scroll-behavior: smooth;
}
@media (hover: none) {
  * {
    -webkit-tap-highlight-color: transparent;
  }
}

/* Заголовки страниц: Rubik Wet Paint */
.font-heading {
  font-family: var(--font-heading);
}

/* Логотип на главной: Rye */
.font-logo {
  font-family: var(--font-logo);
  font-style: normal;
}

/* Заголовок PRESS F на главной: свечение + лёгкий глитч */
.title-logo-glitch {
  text-shadow:
    0 0 10px rgba(180, 255, 0, 0.9),
    0 0 20px rgba(180, 255, 0, 0.6),
    0 0 30px rgba(0, 224, 255, 0.4),
    0 0 40px rgba(180, 255, 0, 0.3);
  animation: title-glitch 4s ease-in-out infinite;
}
@keyframes title-glitch {
  0%, 90%, 100% { filter: none; transform: translate(0, 0) skewX(0); }
  92% { filter: hue-rotate(-5deg); transform: translate(-1px, 0) skewX(-0.5deg); }
  94% { filter: hue-rotate(5deg); transform: translate(1px, 0) skewX(0.5deg); }
  96% { filter: none; transform: translate(0, 0) skewX(0); }
  98% { filter: hue-rotate(3deg); transform: translate(0, 1px) skewX(0.3deg); }
}
@media (prefers-reduced-motion: reduce) {
  .title-logo-glitch { animation: none; }
}

/* Глитч-эффект для экрана Resurrection (SYSTEM FAILURE) */
.glitch-text {
  text-shadow:
    0 0 4px currentColor,
    2px 0 0 rgba(255, 0, 0, 0.8),
    -2px 0 0 rgba(0, 255, 255, 0.8);
  animation: glitch-text 3s ease-in-out infinite;
}
@keyframes glitch-text {
  0%, 88%, 100% { transform: translate(0, 0); filter: none; }
  90% { transform: translate(-2px, 1px); filter: hue-rotate(-10deg); }
  92% { transform: translate(2px, -1px); filter: hue-rotate(10deg); }
  94% { transform: translate(0, 0); filter: none; }
  96% { transform: translate(1px, 0); filter: hue-rotate(5deg); }
  98% { transform: translate(0, 0); filter: none; }
}
@media (prefers-reduced-motion: reduce) {
  .glitch-text { animation: none; }
}

/* ─── Hacker / Terminal UI ───────────────────────────────────────────── */
/* Терминальные поля ввода: моноширинный шрифт, левая полоска-акцент, лёгкое свечение */
.input-terminal {
  font-family: var(--font-body);
  border-left: 3px solid rgba(0, 224, 255, 0.6);
  box-shadow: 0 0 0 1px rgba(255, 255, 255, 0.06), 0 0 10px rgba(0, 224, 255, 0.05);
}
.input-terminal:focus {
  border-left-color: #00E0FF;
  box-shadow: 0 0 0 1px rgba(0, 224, 255, 0.2), 0 0 16px rgba(0, 224, 255, 0.12);
}
/* Карточки в стиле терминала: тонкая рамка + лёгкое свечение */
.card-terminal {
  border: 1px solid rgba(255, 255, 255, 0.08);
  box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.2), 0 0 20px rgba(0, 224, 255, 0.03);
}
/* Метки: верхний регистр, разреженный трекинг */
.label-terminal {
  font-family: var(--font-body);
  letter-spacing: 0.12em;
  text-transform: uppercase;
}

/* Русская локаль: основной текст — Stieglitz SP (кириллица) */
.lang-ru {
  --font-body: "Stieglitz SP", cursive;
}

/* ─── Кнопки (дизайн-система) ──────────────────────────────────────────── */
/* Контраст: btn-primary использует text-black на accent-lime (WCAG AA). */
.btn-primary {
  font-family: var(--font-body);
  font-weight: 800;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  border-radius: 0.75rem;
  transition: transform 0.15s, box-shadow 0.2s;
}
.btn-primary:active {
  transform: scale(0.98);
}
.btn-primary:focus-visible {
  outline: 2px solid var(--color-accent-cyan);
  outline-offset: 2px;
}

.btn-secondary {
  font-family: var(--font-body);
  font-weight: 700;
  letter-spacing: 0.03em;
  border-radius: 0.75rem;
  transition: background-color 0.2s, border-color 0.2s, transform 0.15s;
}
.btn-secondary:active {
  transform: scale(0.98);
}
.btn-secondary:focus-visible {
  outline: 2px solid var(--color-accent-cyan);
  outline-offset: 2px;
}

.btn-ghost {
  font-family: var(--font-body);
  font-weight: 600;
  transition: background-color 0.2s, opacity 0.2s, transform 0.15s;
}
.btn-ghost:active {
  transform: scale(0.98);
}
.btn-ghost:focus-visible {
  outline: 2px solid var(--color-accent-cyan);
  outline-offset: 2px;
}

/* Фокус для доступности */
button:focus-visible,
a:focus-visible,
[role="button"]:focus-visible,
input:focus-visible,
textarea:focus-visible,
select:focus-visible {
  outline: 2px solid var(--color-accent-cyan);
  outline-offset: 2px;
}

/* Лёгкий сканлайн-эффект на контенте (опционально) */
.content-scan::before {
  content: "";
  position: absolute;
  inset: 0;
  background: repeating-linear-gradient(
    0deg,
    transparent 0px,
    transparent 2px,
    rgba(0, 0, 0, 0.04) 2px,
    rgba(0, 0, 0, 0.04) 4px
  );
  pointer-events: none;
  z-index: 0;
}

@media (prefers-reduced-motion: reduce) {
  .content-scan::before { display: none; }
}

/* Reduced motion: только бесконечные/долгие анимации делаем мгновенными */
@media (prefers-reduced-motion: reduce) {
  [class*="animate-spin-slow"],
  [class*="animate-pulse"]:not([class*="motion-reduce:animate-none"]) {
    animation-duration: 0.01ms;
    animation-iteration-count: 1;
  }
}

/* Info icon: два ярких фиолетовых мигания после закрытия панели (визуальная подсказка) */
@keyframes info-icon-blink-keyframes {
  0% {
    box-shadow: 0 0 0 0 transparent;
    background-color: transparent;
  }
  18% {
    box-shadow: 0 0 28px 8px rgba(168, 85, 247, 0.95), 0 0 56px 16px rgba(168, 85, 247, 0.5);
    background-color: rgba(168, 85, 247, 0.45);
  }
  36% {
    box-shadow: 0 0 0 0 transparent;
    background-color: transparent;
  }
  54% {
    box-shadow: 0 0 28px 8px rgba(168, 85, 247, 0.95), 0 0 56px 16px rgba(168, 85, 247, 0.5);
    background-color: rgba(168, 85, 247, 0.45);
  }
  72%, 100% {
    box-shadow: 0 0 0 0 transparent;
    background-color: transparent;
  }
}
.info-icon-blink {
  animation: info-icon-blink-keyframes 0.85s ease-in-out;
  border-radius: 9999px;
  padding: 2px;
  margin: -2px;
}
.info-icon-blink .info-icon-btn,
.info-icon-blink button {
  color: inherit;
}
@media (prefers-reduced-motion: reduce) {
  .info-icon-blink { animation: none; }
}

/* ─── Splash screen keyframes (PRESS F заставка) ─────────────────────────── */
.splash-screen {
  --splash-bg: #0f0d16;
  --splash-lime: #B4FF00;
  --splash-cyan: #00E0FF;
  --splash-pink: #FF4DD2;
  --splash-gold: #FFD700;
  --splash-muted: #b0b8c2;
  /* Плавность: изоляция перерисовки и GPU-слой */
  contain: layout style paint;
  transform: translateZ(0);
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
}

@keyframes splash-scan {
  0% { transform: translateY(-100%) translateZ(0); opacity: 1; }
  100% { transform: translateY(100vh) translateZ(0); opacity: 1; }
}

@keyframes splash-glitch {
  0%, 85%, 100% { transform: translate(0, 0) translateZ(0); filter: none; text-shadow: 0 0 20px rgba(180, 255, 0, 0.6); }
  86% { transform: translate(-2px, 1px) translateZ(0); filter: hue-rotate(-8deg); text-shadow: 2px 0 0 var(--splash-pink), -2px 0 0 var(--splash-cyan); }
  88% { transform: translate(2px, -1px) translateZ(0); filter: hue-rotate(8deg); text-shadow: -2px 0 0 var(--splash-cyan), 2px 0 0 var(--splash-pink); }
  90% { transform: translate(0, 0) translateZ(0); filter: none; text-shadow: 0 0 20px rgba(180, 255, 0, 0.6); }
  92% { transform: translate(1px, 0) translateZ(0); text-shadow: 0 0 25px var(--splash-gold); }
  94% { transform: translate(0, 0) translateZ(0); }
}

@keyframes splash-flicker {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.7; }
  75% { opacity: 1; }
}

@keyframes splash-fadeIn {
  from { opacity: 0; transform: translateZ(0); }
  to { opacity: 1; transform: translateZ(0); }
}

@keyframes splash-fadeOut {
  from { opacity: 1; transform: translateZ(0); }
  to { opacity: 0; transform: translateZ(0); }
}

@keyframes splash-flash {
  0% { opacity: 0; }
  20% { opacity: 0.4; }
  100% { opacity: 0; }
}

@keyframes splash-skull-neon {
  0%, 100% { text-shadow: 0 0 10px var(--splash-cyan), 0 0 20px var(--splash-cyan); }
  50% { text-shadow: 0 0 15px var(--splash-lime), 0 0 30px var(--splash-cyan); }
}

@keyframes splash-bg-pulse {
  0%, 100% { opacity: 0.03; }
  50% { opacity: 0.08; }
}

@keyframes splash-heartbeat {
  0%, 100% { transform: scaleX(0.3) translateZ(0); opacity: 0.4; }
  15% { transform: scaleX(1) translateZ(0); opacity: 1; }
  30% { transform: scaleX(0.3) translateZ(0); opacity: 0.4; }
  45% { transform: scaleX(1) translateZ(0); opacity: 1; }
  60%, 100% { transform: scaleX(0.1) translateZ(0); opacity: 0.2; }
}

@keyframes splash-text-reveal {
  from { opacity: 0; transform: scale(0.92) translateZ(0); }
  to { opacity: 1; transform: scale(1) translateZ(0); }
}

@keyframes splash-logo-burst {
  0% { opacity: 0; transform: scale(0.6) translateZ(0); filter: blur(4px); }
  50% { opacity: 1; transform: scale(1.08) translateZ(0); filter: blur(0); }
  70% { transform: scale(0.98) translateZ(0); }
  100% { opacity: 1; transform: scale(1) translateZ(0); filter: blur(0); }
}

/* PRESS F проявляется из ничего (после 2 с задержки) */
@keyframes splash-press-appear {
  0% { opacity: 0; transform: scale(0.85) translateZ(0); filter: blur(8px); }
  60% { opacity: 1; transform: scale(1.02) translateZ(0); filter: blur(0); }
  100% { opacity: 1; transform: scale(1) translateZ(0); filter: blur(0); }
}

/* PRESS F: градиентный текст с подсветкой */
.splash-press-title {
  background: linear-gradient(135deg, #B4FF00 0%, #FFF8B0 25%, #00E0FF 50%, #FF4DD2 75%, #B4FF00 100%);
  background-size: 200% 200%;
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  color: transparent;
  filter: drop-shadow(0 0 20px rgba(180, 255, 0, 0.7)) drop-shadow(0 0 40px rgba(0, 224, 255, 0.5));
  transform: translateZ(0);
  will-change: transform, opacity, filter;
}

/* Появление: из центра, лёгкий отскок; размытие до 8px (меньше нагрузка на GPU) */
@keyframes splash-press-appear-v2 {
  0% { opacity: 0; transform: scale(0.6) translateZ(0); filter: drop-shadow(0 0 0 transparent) blur(8px); }
  50% { opacity: 1; transform: scale(1.08) translateZ(0); filter: drop-shadow(0 0 24px rgba(180, 255, 0, 0.8)) blur(0); }
  70% { transform: scale(0.97) translateZ(0); }
  100% { opacity: 1; transform: scale(1) translateZ(0); filter: drop-shadow(0 0 20px rgba(180, 255, 0, 0.7)) drop-shadow(0 0 40px rgba(0, 224, 255, 0.5)); }
}

/* Пульсация подсветки (2 тени вместо 3 — меньше перерисовок) */
@keyframes splash-press-glow {
  0%, 100% { filter: drop-shadow(0 0 20px rgba(180, 255, 0, 0.7)) drop-shadow(0 0 40px rgba(0, 224, 255, 0.5)); }
  50% { filter: drop-shadow(0 0 28px rgba(180, 255, 0, 0.85)) drop-shadow(0 0 56px rgba(0, 224, 255, 0.6)); }
}

/* Свет в конце тоннеля: появление и затухание */
@keyframes splash-tunnel-light {
  0% { opacity: 0; }
  15% { opacity: 1; }
  85% { opacity: 1; }
  100% { opacity: 0; }
}

@keyframes splash-tunnel-expand {
  0% { transform: scale(0.3) translateZ(0); opacity: 0; }
  20% { transform: scale(1) translateZ(0); opacity: 1; }
  80% { opacity: 1; }
  100% { transform: scale(1.2) translateZ(0); opacity: 0; }
}

@keyframes splash-glow-pulse {
  0%, 100% { text-shadow: 0 0 20px var(--splash-gold), 0 0 40px rgba(255, 215, 0, 0.4); }
  50% { text-shadow: 0 0 30px var(--splash-gold), 0 0 60px rgba(255, 215, 0, 0.6), 0 0 80px rgba(255, 77, 210, 0.2); }
}

@keyframes splash-flash-strong {
  0% { opacity: 0; }
  8% { opacity: 0.7; }
  15% { opacity: 0.3; }
  25% { opacity: 0.5; }
  100% { opacity: 0; }
}

/* Переход «в рай»: светло-жёлтый свет нарастает и уходит */
@keyframes splash-heaven {
  0% { opacity: 0; background-color: #FFF8DC; }
  18% { opacity: 0.5; background-color: #FFFACD; }
  35% { opacity: 0.92; background-color: #FFFAF0; }
  50% { opacity: 1; background-color: #FFFFF0; }
  65% { opacity: 1; background-color: #FFFFF8; }
  85% { opacity: 0.4; background-color: #FFFEF5; }
  100% { opacity: 0; background-color: #FFFFFF; }
}

@keyframes splash-scan-glow {
  0% { opacity: 0.6; box-shadow: 0 0 10px var(--splash-cyan); }
  50% { opacity: 1; box-shadow: 0 0 30px var(--splash-cyan), 0 0 60px rgba(0, 224, 255, 0.3); }
  100% { opacity: 0.6; box-shadow: 0 0 10px var(--splash-cyan); }
}

@keyframes splash-grid-fade {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes splash-vignette-in {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes splash-corner-in {
  from { opacity: 0; transform: scale(0.9) translateZ(0); }
  to { opacity: 1; transform: scale(1) translateZ(0); }
}

@keyframes splash-dot-pulse {
  0%, 100% { opacity: 0.2; transform: translateZ(0); }
  50% { opacity: 0.7; transform: translateZ(0); }
}

@keyframes splash-line-flicker {
  0%, 100% { opacity: 0.4; }
  50% { opacity: 1; }
}

@keyframes splash-monument-float {
  0%, 100% { transform: translateY(0) translateZ(0); }
  50% { transform: translateY(-4px) translateZ(0); }
}

@keyframes splash-border-glow {
  0%, 100% { border-color: rgba(0, 224, 255, 0.3); box-shadow: 0 0 12px rgba(0, 224, 255, 0.15); }
  50% { border-color: rgba(180, 255, 0, 0.5); box-shadow: 0 0 20px rgba(180, 255, 0, 0.25); }
}

@keyframes splash-ring-pulse {
  0% { transform: translate(-50%, -50%) scale(0.6) translateZ(0); opacity: 0.6; border-color: rgba(255, 215, 0, 0.5); }
  100% { transform: translate(-50%, -50%) scale(1.4) translateZ(0); opacity: 0; border-color: rgba(255, 215, 0, 0.1); }
}

/* Плавное появление при смене фазы (0.25 с); GPU-слой для плавности */
.splash-phase-in {
  animation: splash-fadeIn 0.25s ease-out forwards;
  transform: translateZ(0);
  will-change: opacity;
}

/* Кнопка «Пропустить» на заставке */
.splash-skip-btn:focus {
  outline: 1px solid rgba(0, 255, 65, 0.6);
  outline-offset: 2px;
}

/* Терминал: вид как у настоящего (iTerm/hacker-style); контейнирование для плавности */
.splash-terminal-window {
  --term-bg: #0a0e14;
  --term-border: rgba(0, 255, 65, 0.35);
  --term-glow: rgba(0, 255, 65, 0.15);
  background: linear-gradient(180deg, #0c1016 0%, #080b0f 100%);
  border: 1px solid var(--term-border);
  border-radius: 10px;
  overflow: hidden;
  max-width: 420px;
  width: 100%;
  box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.5), 0 0 40px var(--term-glow), 0 20px 60px rgba(0, 0, 0, 0.5);
  contain: layout style paint;
  transform: translateZ(0);
}

.splash-terminal-titlebar {
  background: linear-gradient(180deg, #1a1f26 0%, #0f1318 100%);
  border-bottom: 1px solid rgba(0, 255, 65, 0.2);
  padding: 10px 14px 10px 16px;
  display: flex;
  align-items: center;
  gap: 12px;
  font-family: "SF Mono", "Consolas", "Monaco", "Courier New", monospace;
  font-size: 11px;
  font-weight: 500;
  letter-spacing: 0.02em;
  color: rgba(0, 255, 65, 0.9);
  text-shadow: 0 0 10px rgba(0, 255, 65, 0.3);
}

.splash-terminal-titlebar-dots {
  display: flex;
  gap: 6px;
}
.splash-terminal-titlebar-dots span {
  width: 10px;
  height: 10px;
  border-radius: 50%;
  box-shadow: inset 0 1px 2px rgba(0,0,0,0.3), 0 0 0 1px rgba(0,0,0,0.2);
}
.splash-terminal-titlebar-dots span:nth-child(1) {
  background: linear-gradient(180deg, #ff5f56 0%, #e0443e 100%);
}
.splash-terminal-titlebar-dots span:nth-child(2) {
  background: linear-gradient(180deg, #ffbd2e 0%, #dea123 100%);
}
.splash-terminal-titlebar-dots span:nth-child(3) {
  background: linear-gradient(180deg, #27c93f 0%, #1aab29 100%);
}

.splash-terminal-body {
  padding: 16px 18px 18px;
  font-family: "SF Mono", "Consolas", "Monaco", "Courier New", monospace;
  font-size: 13px;
  font-weight: 400;
  color: #00ff41;
  line-height: 1.6;
  text-shadow: 0 0 12px rgba(0, 255, 65, 0.35);
  background: var(--term-bg);
  position: relative;
  min-height: 80px;
}
.splash-terminal-body::before {
  content: "";
  position: absolute;
  inset: 0;
  background: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 2px,
    rgba(0, 255, 65, 0.015) 2px,
    rgba(0, 255, 65, 0.015) 4px
  );
  pointer-events: none;
}

.splash-terminal-prompt {
  color: #00ff41;
  opacity: 0.95;
  font-weight: 500;
}

.splash-terminal-prompt::before {
  content: "root@pressf:~$ ";
  color: rgba(0, 255, 65, 0.7);
}

.splash-terminal-output {
  color: #00ff41;
}

/* Иконка шифрования: замок (CSS) — замок с замочной скважиной и лёгкое свечение */
.splash-encrypt-icon {
  width: 4.5rem;
  height: 4.5rem;
  display: flex;
  align-items: center;
  justify-content: center;
}

.splash-encrypt-lock {
  width: 2.25rem;
  height: 2rem;
  position: relative;
  background: linear-gradient(180deg, rgba(0, 255, 65, 0.25) 0%, rgba(0, 255, 65, 0.08) 100%);
  border: 2px solid rgba(0, 255, 65, 0.7);
  border-radius: 4px;
  box-shadow:
    0 0 20px rgba(0, 255, 65, 0.4),
    0 0 40px rgba(0, 255, 65, 0.15),
    inset 0 1px 0 rgba(0, 255, 65, 0.2),
    inset 0 -2px 8px rgba(0, 0, 0, 0.3);
}
.splash-encrypt-lock::before {
  /* дужка замка */
  content: "";
  position: absolute;
  top: -0.65rem;
  left: 50%;
  transform: translateX(-50%);
  width: 1rem;
  height: 0.7rem;
  border: 2px solid rgba(0, 255, 65, 0.7);
  border-bottom: none;
  border-radius: 0.5rem 0.5rem 0 0;
  box-shadow: 0 0 12px rgba(0, 255, 65, 0.3);
}
.splash-encrypt-lock::after {
  /* замочная скважина */
  content: "";
  position: absolute;
  bottom: 0.35rem;
  left: 50%;
  transform: translateX(-50%);
  width: 3px;
  height: 6px;
  background: rgba(0, 255, 65, 0.9);
  border-radius: 1px;
  box-shadow: 0 0 8px rgba(0, 255, 65, 0.6), inset 0 0 4px rgba(0, 255, 65, 0.5);
}

@keyframes splash-encrypt {
  0%, 100% { opacity: 1; filter: none; text-shadow: 0 0 12px rgba(0, 255, 65, 0.5); }
  33% { opacity: 0.7; filter: brightness(1.3); text-shadow: 0 0 20px rgba(0, 255, 65, 0.8); }
  66% { opacity: 1; filter: none; text-shadow: 0 0 14px rgba(0, 255, 65, 0.6); }
}

@keyframes splash-or-pulse {
  0%, 100% { transform: scale(1) translateZ(0); opacity: 1; }
  50% { transform: scale(1.03) translateZ(0); opacity: 0.95; }
}

@keyframes splash-lock-in {
  from { opacity: 0; transform: scale(0.8) translateZ(0); }
  to { opacity: 1; transform: scale(1) translateZ(0); }
}

@media (prefers-reduced-motion: reduce) {
  .splash-screen [class*="splash-"] { animation: none !important; }
  .splash-phase-in { opacity: 1; }
}

/* ─── Store: анимированные градиентные рамки аватара (витрина и превью) ─── */
@keyframes store-frame-glow-pulse {
  0%, 100% { filter: brightness(1); opacity: 1; }
  50% { filter: brightness(1.15); opacity: 1; }
}
@keyframes store-frame-rotate {
  from { transform: rotate(0deg) translateZ(0); }
  to { transform: rotate(360deg) translateZ(0); }
}
.store-frame-ring {
  position: relative;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  animation: store-frame-glow-pulse 2.5s ease-in-out infinite;
  will-change: filter;
  backface-visibility: hidden;
}
.store-frame-ring::before {
  content: "";
  position: absolute;
  inset: -2px;
  border-radius: 50%;
  background: conic-gradient(from 0deg, var(--frame-c1), var(--frame-c2), var(--frame-c3), var(--frame-c1));
  -webkit-mask: radial-gradient(circle at 50% 50%, transparent calc(50% - 2px), #fff 50%);
  mask: radial-gradient(circle at 50% 50%, transparent calc(50% - 2px), #fff 50%);
  animation: store-frame-rotate 6s linear infinite;
}
.store-frame-ring.store-frame-fire {
  --frame-c1: #f97316;
  --frame-c2: #fb923c;
  --frame-c3: #fdba74;
  box-shadow: 0 0 12px rgba(249, 115, 22, 0.5), 0 0 24px rgba(249, 115, 22, 0.25);
}
.store-frame-ring.store-frame-diamond {
  --frame-c1: #22d3ee;
  --frame-c2: #67e8f9;
  --frame-c3: #a5f3fc;
  box-shadow: 0 0 12px rgba(34, 211, 238, 0.5), 0 0 24px rgba(34, 211, 238, 0.25);
}
.store-frame-ring.store-frame-neon {
  --frame-c1: #00E0FF;
  --frame-c2: #B4FF00;
  --frame-c3: #00E0FF;
  box-shadow: 0 0 12px rgba(0, 224, 255, 0.6), 0 0 24px rgba(180, 255, 0, 0.2);
}
.store-frame-ring.store-frame-gold {
  --frame-c1: #fbbf24;
  --frame-c2: #fcd34d;
  --frame-c3: #fde68a;
  box-shadow: 0 0 12px rgba(251, 191, 36, 0.5), 0 0 24px rgba(251, 191, 36, 0.25);
}
/* VIP: gradient runs around the circle (premium / Stars) */
.store-frame-ring.store-frame-vip {
  --frame-c1: #a855f7;
  --frame-c2: #ec4899;
  --frame-c3: #f97316;
  --frame-c4: #eab308;
  --frame-c5: #22c55e;
  --frame-c6: #06b6d4;
  box-shadow: 0 0 16px rgba(168, 85, 247, 0.5), 0 0 32px rgba(236, 72, 153, 0.3);
}
.store-frame-ring.store-frame-vip::before {
  background: conic-gradient(from 0deg, var(--frame-c1), var(--frame-c2), var(--frame-c3), var(--frame-c4), var(--frame-c5), var(--frame-c6), var(--frame-c1));
}
.store-frame-inner {
  position: absolute;
  inset: 2px;
  z-index: 1;
  border-radius: 50%;
  background: rgba(26, 26, 26, 0.95);
  display: flex;
  align-items: center;
  justify-content: center;
}
@media (prefers-reduced-motion: reduce) {
  .store-frame-ring { animation: none; }
  .store-frame-ring::before { animation: none; }
}

/* Profile: VIP frame (same rotating gradient ring around avatar) */
.avatar-frame-vip {
  position: relative;
}
.avatar-frame-vip::before {
  content: "";
  position: absolute;
  inset: -3px;
  border-radius: 50%;
  background: conic-gradient(from 0deg, #a855f7, #ec4899, #f97316, #eab308, #22c55e, #06b6d4, #a855f7);
  -webkit-mask: radial-gradient(circle at 50% 50%, transparent calc(50% - 3px), #fff 50%);
  mask: radial-gradient(circle at 50% 50%, transparent calc(50% - 3px), #fff 50%);
  animation: store-frame-rotate 6s linear infinite;
  z-index: 0;
  pointer-events: none;
}
.avatar-frame-vip > * {
  position: relative;
  z-index: 1;
}
@media (prefers-reduced-motion: reduce) {
  .avatar-frame-vip::before { animation: none; }
}

/* Letter templates (store: letter_template_basic_neon / letter_template_basic_retro) */
.letter-content-neon {
  box-shadow: 0 0 24px rgba(0, 224, 255, 0.15);
}
.letter-font-neon {
  text-shadow: 0 0 8px rgba(0, 224, 255, 0.4);
}
.letter-content-retro {
  box-shadow: 0 0 20px rgba(251, 191, 36, 0.12);
}
.letter-font-retro {
  text-shadow: 0 0 6px rgba(251, 191, 36, 0.35);
  font-family: ui-monospace, "Cascadia Code", "Source Code Pro", Menlo, monospace;
}
