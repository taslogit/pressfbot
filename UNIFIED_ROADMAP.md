# üó∫Ô∏è –ï–¥–∏–Ω—ã–π —Ä–æ–∞–¥–º–∞–ø —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ PRESS F

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2026-02-20 (coverage ‚â•70% –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –º–æ–¥—É–ª–µ–π)  
**–°—Ç–∞—Ç—É—Å –∑–∞–¥–∞—á:** ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ | üî≤ –í –ø–ª–∞–Ω–∞—Ö | üöß –í —Ä–∞–±–æ—Ç–µ | ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ | ‚ùå –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

> **–í–∞–∂–Ω–æ:** –ü–æ—Å–ª–µ –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–≥–æ –∞—É–¥–∏—Ç–∞ –∫–æ–¥–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∞ Phase 5.5 —Å –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–º–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –Ω–∞—á–∞—Ç—å —Å —ç—Ç–æ–π —Ñ–∞–∑—ã –ø–µ—Ä–µ–¥ –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π.

---

## üìä –°–≤–æ–¥–∫–∞ –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º

- **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:** 25 –∑–∞–¥–∞—á
- **–ß–∞—Å—Ç–∏—á–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:** 8 –∑–∞–¥–∞—á
- **–í –ø–ª–∞–Ω–∞—Ö:** 35+ –∑–∞–¥–∞—á
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –í—ã—Å–æ–∫–∏–π (üî¥) | –°—Ä–µ–¥–Ω–∏–π (üü°) | –ù–∏–∑–∫–∏–π (üü¢)

---

## ‚úÖ PHASE 0: Top-5 (–ó–∞–≤–µ—Ä—à–µ–Ω–æ)

| # | –ó–∞–¥–∞—á–∞ | –°—Ç–∞—Ç—É—Å | –ü—Ä–∏–º–µ—á–∞–Ω–∏—è |
|---|--------|--------|------------|
| 0.1 | –†–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã–µ –Ω–∞–≥—Ä–∞–¥—ã (milestones REP, XP, premium 30/90/180/365d) | ‚úÖ | –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ `server/index.js` |
| 0.2 | –ê–≤—Ç–æ-—à–µ—Ä–∏–Ω–≥ –ø—Ä–∏ 7d/30d ¬´–¥–Ω–µ–π –ø–æ–¥—Ä—è–¥¬ª | ‚úÖ | –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ `Landing.tsx` |
| 0.3 | Paywall + –ª–∏–º–∏—Ç—ã (3 –ø–∏—Å—å–º–∞, 2 –±–∏—Ñ–∞) | ‚úÖ | –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ `middleware/freeTier.js` |
| 0.4 | Trial 7 –¥–Ω–µ–π Premium | ‚úÖ | –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ `routes/stars.js` |
| 0.5 | –ê–Ω–∞–ª–∏—Ç–∏–∫–∞: —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î (analytics_events) | ‚úÖ | –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ `server/index.js` |

---

## ‚úÖ PHASE 1: –í–∏—Ä–∞–ª—å–Ω–æ—Å—Ç—å (–ó–∞–≤–µ—Ä—à–µ–Ω–æ)

| # | –ó–∞–¥–∞—á–∞ | –°—Ç–∞—Ç—É—Å | –ü—Ä–∏–º–µ—á–∞–Ω–∏—è |
|---|--------|--------|------------|
| 1.1 | –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –≤ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ (–î—Ä—É–∑—å—è) | ‚úÖ | `/referral` –≤ `Layout.tsx` |
| 1.2 | Milestone rewards –∑–∞ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤ | ‚úÖ | –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ `server/index.js` |
| 1.3 | –¢–µ–∫—Å—Ç—ã —à–µ—Ä–∏–Ω–≥–∞ 7d/30d EN/RU | ‚úÖ | –í `translations.ts` |
| 1.4 | –ö–Ω–æ–ø–∫–∞ ¬´–ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å –¥—Ä—É–∑–µ–π¬ª –Ω–∞ –≥–ª–∞–≤–Ω–æ–π ‚Üí /referral | ‚úÖ | –í `Landing.tsx` |
| 1.5 | –ß–µ–ª–µ–Ω–¥–∂–∏ ¬´–¥–Ω–µ–π –ø–æ–¥—Ä—è–¥¬ª –º–µ–∂–¥—É –¥—Ä—É–∑—å—è–º–∏ (backend + UI) | ‚úÖ | `routes/challenges.js` + `Referral.tsx` |
| 1.6 | –õ–µ–Ω—Ç–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –¥—Ä—É–∑–µ–π (feed –ø–æ —Ä–µ—Ñ–µ—Ä–∞–ª–∞–º) | ‚úÖ | `/api/activity/feed?friends=1` + –≤–∫–ª–∞–¥–∫–∞ ¬´–î—Ä—É–∑—å—è¬ª |

---

## ‚úÖ PHASE 2: UX/UI (–ó–∞–≤–µ—Ä—à–µ–Ω–æ)

| # | –ó–∞–¥–∞—á–∞ | –°—Ç–∞—Ç—É—Å | –ü—Ä–∏–º–µ—á–∞–Ω–∏—è |
|---|--------|--------|------------|
| 2.1 | Onboarding 3 —à–∞–≥–∞ | ‚úÖ | `OnboardingGuide.tsx` |
| 2.2 | PaywallModal (–ª–∏–º–∏—Ç—ã, trial) | ‚úÖ | `PaywallModal.tsx` |
| 2.3 | Progress bar —É—Ä–æ–≤–Ω—è (XP –¥–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ —É—Ä–æ–≤–Ω—è) | ‚úÖ | –í –ø—Ä–æ—Ñ–∏–ª–µ (XP bar) |
| 2.4 | –ï–¥–∏–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ | ‚úÖ | `LoadingState` –∫–æ–º–ø–æ–Ω–µ–Ω—Ç |
| 2.5 | –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π | ‚úÖ | `utils/confirm.ts` |
| 2.6 | Haptic feedback | ‚úÖ | `utils/sound.ts` + `telegram.ts` |
| 2.7 | –£–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (toast –≤–º–µ—Å—Ç–æ tg.showPopup) | ‚úÖ | –í—Å–µ –ø—Ä–æ—Å—Ç—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∑–∞–º–µ–Ω–µ–Ω—ã |

---

## ‚ö†Ô∏è PHASE 3: –ú–µ—Ç—Ä–∏–∫–∏ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ (–ß–∞—Å—Ç–∏—á–Ω–æ)

| # | –ó–∞–¥–∞—á–∞ | –°—Ç–∞—Ç—É—Å | –ü—Ä–∏–º–µ—á–∞–Ω–∏—è |
|---|--------|--------|------------|
| 3.1 | North Star + –≤–æ—Ä–æ–Ω–∫–∏ (onboarding, monetization, viral) | ‚úÖ | –î–∞—à–±–æ—Ä–¥: North Star = active users, –≤–æ—Ä–æ–Ω–∫–∏ –ø–æ —Å–æ–±—ã—Ç–∏—è–º |
| 3.2 | –î–∞—à–±–æ—Ä–¥ /api/analytics/dashboard | ‚úÖ | GET ?since=24h\|7d: totalEvents, uniqueUsers, eventsByType |
| 3.3 | –°–æ–±—ã—Ç–∏–π–Ω–æ–µ —Ç—Ä–µ–∫–∏—Ä–æ–≤–∞–Ω–∏–µ (paywall_shown, trial_started, referral_link_copied‚Ä¶) | ‚úÖ | + store_purchase, squad_*, friend_*, letter_viewed |

---

## üî¥ PHASE 4: –°–∏—Å—Ç–µ–º–∞ –¥—Ä—É–∑–µ–π (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1 ‚Äî MVP)

**–ò—Å—Ç–æ—á–Ω–∏–∫:** `FRIENDS_ANALYSIS.md`

### 4.1. –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥—Ä—É–∂–±—ã üî¥ ‚úÖ

| # | –ó–∞–¥–∞—á–∞ | –°—Ç–∞—Ç—É—Å | –û—Ü–µ–Ω–∫–∞ |
|---|--------|--------|--------|
| 4.1.1 | –¢–∞–±–ª–∏—Ü–∞ `friendships` (user_id, friend_id, status, requested_by) | ‚úÖ | 2-3 –¥–Ω—è |
| 4.1.2 | API: POST /api/friends/request/:userId | ‚úÖ | 1 –¥–µ–Ω—å |
| 4.1.3 | API: POST /api/friends/accept/:userId | ‚úÖ | 1 –¥–µ–Ω—å |
| 4.1.4 | API: POST /api/friends/decline/:userId | ‚úÖ | 1 –¥–µ–Ω—å |
| 4.1.5 | API: DELETE /api/friends/:userId | ‚úÖ | 1 –¥–µ–Ω—å |
| 4.1.6 | API: GET /api/friends (—Å–ø–∏—Å–æ–∫ –¥—Ä—É–∑–µ–π —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π) | ‚úÖ | 1 –¥–µ–Ω—å |
| 4.1.7 | API: GET /api/friends/pending (–≤—Ö–æ–¥—è—â–∏–µ/–∏—Å—Ö–æ–¥—è—â–∏–µ –∑–∞–ø—Ä–æ—Å—ã) | ‚úÖ | 1 –¥–µ–Ω—å |
| 4.1.8 | –≠–∫—Ä–∞–Ω "–î—Ä—É–∑—å—è" —Å —Ç–∞–±–∞–º–∏: "–ú–æ–∏ –¥—Ä—É–∑—å—è", "–ó–∞–ø—Ä–æ—Å—ã", "–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏" | ‚úÖ | 2-3 –¥–Ω—è |
| 4.1.9 | –ö–∞—Ä—Ç–æ—á–∫–∞ –¥—Ä—É–≥–∞: –∞–≤–∞—Ç–∞—Ä, –∏–º—è, —É—Ä–æ–≤–µ–Ω—å, –ø–æ—Å–ª–µ–¥–Ω—è—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å | ‚úÖ | 1 –¥–µ–Ω—å |
| 4.1.10 | Badge —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –Ω–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ | ‚úÖ | 0.5 –¥–Ω—è |

**–ò—Ç–æ–≥–æ:** ~12-15 –¥–Ω–µ–π —Ä–∞–±–æ—Ç—ã

### 4.2. –ü–æ–∏—Å–∫ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥—Ä—É–∑–µ–π üî¥ ‚úÖ

| # | –ó–∞–¥–∞—á–∞ | –°—Ç–∞—Ç—É—Å | –û—Ü–µ–Ω–∫–∞ |
|---|--------|--------|--------|
| 4.2.1 | API: GET /api/friends/search?q=username (–ø–æ–∏—Å–∫ –ø–æ username/title) | ‚úÖ | 1 –¥–µ–Ω—å |
| 4.2.2 | API: GET /api/friends/suggestions (—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ–±—â–∏—Ö —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤, –¥—É—ç–ª–µ–π, —Å–∫–≤–∞–¥–æ–≤) | ‚úÖ | 2-3 –¥–Ω—è |
| 4.2.3 | –ü–æ–∏—Å–∫–æ–≤–∞—è —Å—Ç—Ä–æ–∫–∞ –≤ —Ä–∞–∑–¥–µ–ª–µ "–î—Ä—É–∑—å—è" | ‚úÖ | 1 –¥–µ–Ω—å |
| 4.2.4 | –°–µ–∫—Ü–∏—è "–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏" —Å –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π | ‚úÖ | 1-2 –¥–Ω—è |
| 4.2.5 | –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram –∫–æ–Ω—Ç–∞–∫—Ç–∞–º–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) | ‚úÖ | 3-5 –¥–Ω–µ–π |

**–ò—Ç–æ–≥–æ:** ~8-12 –¥–Ω–µ–π —Ä–∞–±–æ—Ç—ã

### 4.3. –£–ª—É—á—à–µ–Ω–Ω–∞—è –ª–µ–Ω—Ç–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –¥—Ä—É–∑–µ–π üî¥ ‚úÖ

| # | –ó–∞–¥–∞—á–∞ | –°—Ç–∞—Ç—É—Å | –û—Ü–µ–Ω–∫–∞ |
|---|--------|--------|--------|
| 4.3.1 | –û–±–Ω–æ–≤–∏—Ç—å `/api/activity/feed?friends=true` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `friendships` | ‚úÖ | 1 –¥–µ–Ω—å |
| 4.3.2 | –î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã: "–í—Å–µ –¥—Ä—É–∑—å—è", "–ë–ª–∏–∑–∫–∏–µ –¥—Ä—É–∑—å—è", "–†–µ—Ñ–µ—Ä–∞–ª—ã" | ‚úÖ | 1 –¥–µ–Ω—å |
| 4.3.3 | –ù–æ–≤—ã–µ —Ç–∏–ø—ã –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏: friend_added, friend_level_up, friend_achievement_unlocked, friend_duel_won | ‚úÖ | 2 –¥–Ω—è |
| 4.3.4 | –£–ª—É—á—à–µ–Ω–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ —Å –∞–≤–∞—Ç–∞—Ä–∞–º–∏ –¥—Ä—É–∑–µ–π | ‚úÖ | 1 –¥–µ–Ω—å |
| 4.3.5 | –ö–Ω–æ–ø–∫–∞ "–ü–µ—Ä–µ–π—Ç–∏ –∫ –ø—Ä–æ—Ñ–∏–ª—é" –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–µ | ‚úÖ | 0.5 –¥–Ω—è |

**–ò—Ç–æ–≥–æ:** ~5-6 –¥–Ω–µ–π —Ä–∞–±–æ—Ç—ã

---

## üü° PHASE 5: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥—Ä—É–∑–µ–π (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2 ‚Äî Post-MVP)

### 5.1. –°—Ç–∞—Ç—É—Å—ã –∏ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–∏–µ –¥—Ä—É–∑–µ–π üü° ‚úÖ

| # | –ó–∞–¥–∞—á–∞ | –°—Ç–∞—Ç—É—Å | –û—Ü–µ–Ω–∫–∞ |
|---|--------|--------|--------|
| 5.1.1 | –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ `last_seen_at` –≤ —Ç–∞–±–ª–∏—Ü–µ `sessions` | ‚úÖ | 1 –¥–µ–Ω—å |
| 5.1.2 | API: GET /api/friends/online (—Å–ø–∏—Å–æ–∫ –æ–Ω–ª–∞–π–Ω –¥—Ä—É–∑–µ–π) | ‚úÖ | 1 –¥–µ–Ω—å |
| 5.1.3 | –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å—Ç–∞—Ç—É—Å–∞ –Ω–∞ –∞–≤–∞—Ç–∞—Ä–µ –¥—Ä—É–≥–∞ (–∑–µ–ª–µ–Ω–∞—è —Ç–æ—á–∫–∞ = –æ–Ω–ª–∞–π–Ω) | ‚úÖ | 1 –¥–µ–Ω—å |
| 5.1.4 | –°–µ–∫—Ü–∏—è "–û–Ω–ª–∞–π–Ω –¥—Ä—É–∑—å—è" –≤ —Ä–∞–∑–¥–µ–ª–µ "–î—Ä—É–∑—å—è" | ‚úÖ | 1 –¥–µ–Ω—å |
| 5.1.5 | Badge —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –æ–Ω–ª–∞–π–Ω –¥—Ä—É–∑–µ–π | ‚úÖ | 0.5 –¥–Ω—è |

**–ò—Ç–æ–≥–æ:** ~4-5 –¥–Ω–µ–π —Ä–∞–±–æ—Ç—ã

### 5.2. –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ –≥—Ä—É–ø–ø—ã –¥—Ä—É–∑–µ–π üü°

| # | –ó–∞–¥–∞—á–∞ | –°—Ç–∞—Ç—É—Å | –û—Ü–µ–Ω–∫–∞ |
|---|--------|--------|--------|
| 5.2.1 | –¢–∞–±–ª–∏—Ü–∞ `friend_groups` (id, user_id, name, color, icon) | ‚úÖ | 1 –¥–µ–Ω—å |
| 5.2.2 | –¢–∞–±–ª–∏—Ü–∞ `friend_group_members` (group_id, friend_id) | ‚úÖ | 1 –¥–µ–Ω—å |
| 5.2.3 | API: POST /api/friends/groups (—Å–æ–∑–¥–∞—Ç—å –≥—Ä—É–ø–ø—É) | ‚úÖ | 1 –¥–µ–Ω—å |
| 5.2.4 | API: PUT /api/friends/groups/:id (–æ–±–Ω–æ–≤–∏—Ç—å) | ‚úÖ | 1 –¥–µ–Ω—å |
| 5.2.5 | API: POST /api/friends/groups/:id/members (–¥–æ–±–∞–≤–∏—Ç—å –¥—Ä—É–≥–∞) | ‚úÖ | 1 –¥–µ–Ω—å |
| 5.2.6 | API: GET /api/friends/groups (—Å–ø–∏—Å–æ–∫ –≥—Ä—É–ø–ø) | ‚úÖ | 1 –¥–µ–Ω—å |
| 5.2.7 | UI: –¢–µ–≥–∏/—Ü–≤–µ—Ç–∞ –¥–ª—è –≥—Ä—É–ø–ø –¥—Ä—É–∑–µ–π | ‚úÖ | 2 –¥–Ω—è |
| 5.2.8 | UI: –§–∏–ª—å—Ç—Ä –ø–æ –≥—Ä—É–ø–ø–∞–º –≤ —Å–ø–∏—Å–∫–µ –¥—Ä—É–∑–µ–π | ‚úÖ | 1 –¥–µ–Ω—å |

**–ò—Ç–æ–≥–æ:** ~9-10 –¥–Ω–µ–π —Ä–∞–±–æ—Ç—ã

### 5.3. –ò—Å—Ç–æ—Ä–∏—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π üü° ‚úÖ

| # | –ó–∞–¥–∞—á–∞ | –°—Ç–∞—Ç—É—Å | –û—Ü–µ–Ω–∫–∞ |
|---|--------|--------|--------|
| 5.3.1 | –¢–∞–±–ª–∏—Ü–∞ `friend_interactions` (user_id, friend_id, interaction_type, metadata) | ‚úÖ | 1 –¥–µ–Ω—å |
| 5.3.2 | –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π: gift_sent/received, duel_challenged/won/lost, challenge_created/won | ‚úÖ | 2-3 –¥–Ω—è |
| 5.3.3 | API: GET /api/friends/:userId/history (–∏—Å—Ç–æ—Ä–∏—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π) | ‚úÖ | 1 –¥–µ–Ω—å |
| 5.3.4 | UI: –í–∫–ª–∞–¥–∫–∞ "–ò—Å—Ç–æ—Ä–∏—è" –≤ –ø—Ä–æ—Ñ–∏–ª–µ –¥—Ä—É–≥–∞ | ‚úÖ | 2 –¥–Ω—è |
| 5.3.5 | UI: Timeline –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π | ‚úÖ | 2 –¥–Ω—è |
| 5.3.6 | UI: –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞: "–û—Ç–ø—Ä–∞–≤–∏–ª –ø–æ–¥–∞—Ä–∫–æ–≤: 5", "–í—ã–∏–≥—Ä–∞–ª –¥—É—ç–ª–µ–π: 3" | ‚úÖ | 1 –¥–µ–Ω—å |

**–ò—Ç–æ–≥–æ:** ~9-10 –¥–Ω–µ–π —Ä–∞–±–æ—Ç—ã

### 5.4. –°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ –¥—É—ç–ª—è—Ö ‚úÖ

| # | –ó–∞–¥–∞—á–∞ | –°—Ç–∞—Ç—É—Å | –û—Ü–µ–Ω–∫–∞ |
|---|--------|--------|--------|
| 5.4.1 | –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –¥—É—ç–ª–∏ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å–ø–∏—Å–æ–∫ –¥—Ä—É–∑–µ–π –∫–∞–∫ –æ–ø–ø–æ–Ω–µ–Ω—Ç–æ–≤ | ‚úÖ | 1 –¥–µ–Ω—å |
| 5.4.2 | API: GET /api/duels?friends=true (–¥—É—ç–ª–∏ —Å –¥—Ä—É–∑—å—è–º–∏) | ‚úÖ | 1 –¥–µ–Ω—å |
| 5.4.3 | –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥—Ä—É–∑—å—è–º –æ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø—É–±–ª–∏—á–Ω–æ–π –¥—É—ç–ª–∏ | ‚úÖ | 1 –¥–µ–Ω—å |
| 5.4.4 | –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞: "–î—É—ç–ª–∏ —Å –¥—Ä—É–∑—å—è–º–∏: 12 –ø–æ–±–µ–¥ / 3 –ø–æ—Ä–∞–∂–µ–Ω–∏—è" | ‚úÖ | 1 –¥–µ–Ω—å |
| 5.4.5 | UI: –§–∏–ª—å—Ç—Ä "–° –¥—Ä—É–∑—å—è–º–∏" –≤ —Å–ø–∏—Å–∫–µ –¥—É—ç–ª–µ–π | ‚úÖ | 1 –¥–µ–Ω—å |
| 5.4.6 | UI: Badge "–î—Ä—É–≥" –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–µ –æ–ø–ø–æ–Ω–µ–Ω—Ç–∞ –≤ –¥—É—ç–ª–∏ | ‚úÖ | 0.5 –¥–Ω—è |
| 5.4.7 | UI: –°–µ–∫—Ü–∏—è "–î—É—ç–ª–∏ —Å –¥—Ä—É–∑—å—è–º–∏" –≤ –ø—Ä–æ—Ñ–∏–ª–µ | ‚úÖ | 1 –¥–µ–Ω—å |

**–ò—Ç–æ–≥–æ:** ~6-7 –¥–Ω–µ–π —Ä–∞–±–æ—Ç—ã

---

## üî¥ PHASE 5.5: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ —É–ª—É—á—à–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1 ‚Äî –°—Ä–æ—á–Ω–æ)

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –≠—Ç–∞ —Å–µ–∫—Ü–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ—Å–ª–µ –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–≥–æ –∞—É–¥–∏—Ç–∞ –∫–æ–¥–∞ senior —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–º. –°–æ–¥–µ—Ä–∂–∏—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏, –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –≤ –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å.

### 5.5.1. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ SQL Injection üî¥

| # | –ó–∞–¥–∞—á–∞ | –°—Ç–∞—Ç—É—Å | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –û—Ü–µ–Ω–∫–∞ |
|---|--------|--------|-----------|--------|
| 5.5.1.1 | –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—É—é —É—è–∑–≤–∏–º–æ—Å—Ç—å SQL –≤ `/api/friends/online` (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π IN clause) | ‚úÖ | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π | 0.5 –¥–Ω—è |
| 5.5.1.2 | –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é —Ä–∞–∑–º–µ—Ä–∞ –º–∞—Å—Å–∏–≤–æ–≤ –ø–µ—Ä–µ–¥ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ–º SQL –∑–∞–ø—Ä–æ—Å–æ–≤ (max 1000 –¥—Ä—É–∑–µ–π) | ‚úÖ | –í—ã—Å–æ–∫–∏–π | 0.5 –¥–Ω—è |
| 5.5.1.3 | –î–æ–±–∞–≤–∏—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π (trial activation –≤ stars.js) | ‚úÖ | –í—ã—Å–æ–∫–∏–π | 1 –¥–µ–Ω—å |
| 5.5.1.4 | –ò—Å–ø—Ä–∞–≤–∏—Ç—å fail-open –≤ freeTier middleware (—Å—Ç—Ä–æ–∫–∞ 87) - –¥–æ–ª–∂–µ–Ω fail-safe | ‚úÖ | –í—ã—Å–æ–∫–∏–π | 0.5 –¥–Ω—è |
| 5.5.1.5 | –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –≤—Å–µ—Ö –≤—Ö–æ–¥–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —á–µ—Ä–µ–∑ Zod —Å—Ö–µ–º—ã | ‚úÖ | –í—ã—Å–æ–∫–∏–π | 2 –¥–Ω—è |
| 5.5.1.6 | –ê—É–¥–∏—Ç –≤—Å–µ—Ö SQL –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç SQL injection (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤) | ‚úÖ | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π | 1 –¥–µ–Ω—å |
| 5.5.1.7 | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ –º–µ—Å—Ç–∞ –≥–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ SQL (friends.js:566) | ‚úÖ | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π | 1 –¥–µ–Ω—å |

**–ò—Ç–æ–≥–æ:** ~6-7 –¥–Ω–µ–π —Ä–∞–±–æ—Ç—ã

### 5.5.2. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ë–î üî¥

| # | –ó–∞–¥–∞—á–∞ | –°—Ç–∞—Ç—É—Å | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –û—Ü–µ–Ω–∫–∞ |
|---|--------|--------|-----------|--------|
| 5.5.2.1 | –î–æ–±–∞–≤–∏—Ç—å —Å–æ—Å—Ç–∞–≤–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è friendships (user_id, friend_id, status) | ‚úÖ | –í—ã—Å–æ–∫–∏–π | 0.5 –¥–Ω—è |
| 5.5.2.2 | –î–æ–±–∞–≤–∏—Ç—å –∏–Ω–¥–µ–∫—Å –Ω–∞ sessions(telegram_id, expires_at, last_seen_at) | ‚úÖ | –í—ã—Å–æ–∫–∏–π | 0.5 –¥–Ω—è |
| 5.5.2.3 | –î–æ–±–∞–≤–∏—Ç—å –∏–Ω–¥–µ–∫—Å –Ω–∞ activity_feed(user_id, created_at DESC) –¥–ª—è –ª–µ–Ω—Ç—ã –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ | ‚úÖ | –í—ã—Å–æ–∫–∏–π | 0.5 –¥–Ω—è |
| 5.5.2.4 | –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å –¥—Ä—É–∑–µ–π –æ–Ω–ª–∞–π–Ω (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å EXISTS –≤–º–µ—Å—Ç–æ IN –¥–ª—è –±–æ–ª—å—à–∏—Ö —Å–ø–∏—Å–∫–æ–≤) | ‚úÖ | –°—Ä–µ–¥–Ω–∏–π | 1 –¥–µ–Ω—å |
| 5.5.2.5 | –î–æ–±–∞–≤–∏—Ç—å connection pool –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –∞–ª–µ—Ä—Ç—ã (—Ç–µ–∫—É—â–∏–π max=20) | ‚úÖ | –°—Ä–µ–¥–Ω–∏–π | 1 –¥–µ–Ω—å |
| 5.5.2.6 | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å query timeout –¥–ª—è –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ (statement_timeout=10s —É–∂–µ –µ—Å—Ç—å) | ‚úÖ | –°—Ä–µ–¥–Ω–∏–π | 0.5 –¥–Ω—è |
| 5.5.2.7 | –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã —Å –±–æ–ª—å—à–∏–º–∏ OFFSET (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å cursor-based pagination –≤–µ–∑–¥–µ) | ‚úÖ | –°—Ä–µ–¥–Ω–∏–π | 2 –¥–Ω—è |
| 5.5.2.8 | –î–æ–±–∞–≤–∏—Ç—å EXPLAIN ANALYZE –¥–ª—è –º–µ–¥–ª–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ production | ‚úÖ | –ù–∏–∑–∫–∏–π | 1 –¥–µ–Ω—å |

**–ò—Ç–æ–≥–æ:** ~7-8 –¥–Ω–µ–π —Ä–∞–±–æ—Ç—ã

### 5.5.3. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å üî¥

| # | –ó–∞–¥–∞—á–∞ | –°—Ç–∞—Ç—É—Å | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –û—Ü–µ–Ω–∫–∞ |
|---|--------|--------|-----------|--------|
| 5.5.3.1 | –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Å–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –∏–º–µ—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π ROLLBACK –≤ catch –±–ª–æ–∫–∞—Ö | ‚úÖ | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π | 1 –¥–µ–Ω—å |
| 5.5.3.2 | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ –º–µ—Å—Ç–∞ –≥–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `client.release()` –±–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ –æ—à–∏–±–∫–∏ | ‚úÖ | –í—ã—Å–æ–∫–∏–π | 0.5 –¥–Ω—è |
| 5.5.3.3 | –î–æ–±–∞–≤–∏—Ç—å retry –ª–æ–≥–∏–∫—É –¥–ª—è transient database errors (ECONNREFUSED, ETIMEDOUT) | ‚úÖ | –í—ã—Å–æ–∫–∏–π | 1 –¥–µ–Ω—å |
| 5.5.3.4 | –£–ª—É—á—à–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ (—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ª–æ–≥–∏ —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º) | ‚úÖ | –í—ã—Å–æ–∫–∏–π | 1 –¥–µ–Ω—å |
| 5.5.3.5 | –î–æ–±–∞–≤–∏—Ç—å circuit breaker –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (Redis, DB) | ‚úÖ | –°—Ä–µ–¥–Ω–∏–π | 2 –¥–Ω—è |
| 5.5.3.6 | –î–æ–±–∞–≤–∏—Ç—å graceful shutdown –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –Ω–µ–∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π | ‚úÖ | –°—Ä–µ–¥–Ω–∏–π | 1 –¥–µ–Ω—å |

**–ò—Ç–æ–≥–æ:** ~6-7 –¥–Ω–µ–π —Ä–∞–±–æ—Ç—ã

### 5.5.4. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∫–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞ üî¥

| # | –ó–∞–¥–∞—á–∞ | –°—Ç–∞—Ç—É—Å | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –û—Ü–µ–Ω–∫–∞ |
|---|--------|--------|-----------|--------|
| 5.5.4.1 | –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å unit —Ç–µ—Å—Ç—ã –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π (auth, validation, sanitization) | ‚úÖ | –í—ã—Å–æ–∫–∏–π | 3 –¥–Ω—è |
| 5.5.4.2 | –î–æ–±–∞–≤–∏—Ç—å integration —Ç–µ—Å—Ç—ã –¥–ª—è API endpoints (friends, duels, letters) | ‚úÖ | –í—ã—Å–æ–∫–∏–π | 4 –¥–Ω—è |
| 5.5.4.3 | –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –∏ race conditions | ‚úÖ | –°—Ä–µ–¥–Ω–∏–π | 2 –¥–Ω—è |
| 5.5.4.4 | –ù–∞—Å—Ç—Ä–æ–∏—Ç—å pre-commit hooks –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ–¥–∞ (ESLint, Prettier) | ‚úÖ | –°—Ä–µ–¥–Ω–∏–π | 0.5 –¥–Ω—è |
| 5.5.4.5 | –£–≤–µ–ª–∏—á–∏—Ç—å coverage –¥–æ –º–∏–Ω–∏–º—É–º 70% –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –º–æ–¥—É–ª–µ–π | ‚úÖ | –°—Ä–µ–¥–Ω–∏–π | 3 –¥–Ω—è |
| 5.5.4.6 | –ó–∞–ø–æ–ª–Ω–∏—Ç—å –ø—É—Å—Ç—ã–µ —Ç–µ—Å—Ç—ã –≤ `__tests__/auth.test.js` (—Å–µ–π—á–∞—Å —Ç–æ–ª—å–∫–æ TODO) | ‚úÖ | –í—ã—Å–æ–∫–∏–π | 1 –¥–µ–Ω—å |

**–ò—Ç–æ–≥–æ:** ~13-14 –¥–Ω–µ–π —Ä–∞–±–æ—Ç—ã

### 5.5.5. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –Ω–∞–±–ª—é–¥–∞–µ–º–æ—Å—Ç—å üî¥

| # | –ó–∞–¥–∞—á–∞ | –°—Ç–∞—Ç—É—Å | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –û—Ü–µ–Ω–∫–∞ |
|---|--------|--------|-----------|--------|
| 5.5.5.1 | –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ (response time, throughput) | ‚úÖ | –í—ã—Å–æ–∫–∏–π | 2 –¥–Ω—è |
| 5.5.5.2 | –î–æ–±–∞–≤–∏—Ç—å –∞–ª–µ—Ä—Ç—ã –Ω–∞ –º–µ–¥–ª–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã (>1s) | ‚úÖ | –í—ã—Å–æ–∫–∏–π | 1 –¥–µ–Ω—å |
| 5.5.5.3 | –î–æ–±–∞–≤–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è connection pool | ‚úÖ | –í—ã—Å–æ–∫–∏–π | 1 –¥–µ–Ω—å |
| 5.5.5.4 | –î–æ–±–∞–≤–∏—Ç—å –¥–∞—à–±–æ—Ä–¥ —Å –∫–ª—é—á–µ–≤—ã–º–∏ –º–µ—Ç—Ä–∏–∫–∞–º–∏ (requests/sec, error rate, DB connections) | ‚úÖ | –°—Ä–µ–¥–Ω–∏–π | 2 –¥–Ω—è |
| 5.5.5.5 | –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ (JSON) | ‚úÖ | –°—Ä–µ–¥–Ω–∏–π | 1 –¥–µ–Ω—å |

**–ò—Ç–æ–≥–æ:** ~7-8 –¥–Ω–µ–π —Ä–∞–±–æ—Ç—ã

### 5.5.6. Rate Limiting –∏ –∑–∞—â–∏—Ç–∞ –æ—Ç –∑–ª–æ—É–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–π üî¥

| # | –ó–∞–¥–∞—á–∞ | –°—Ç–∞—Ç—É—Å | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –û—Ü–µ–Ω–∫–∞ |
|---|--------|--------|-----------|--------|
| 5.5.6.1 | –î–æ–±–∞–≤–∏—Ç—å rate limiting –Ω–∞ `/api/friends/online` (–º–æ–∂–µ—Ç –±—ã—Ç—å –≤—ã–∑–≤–∞–Ω —á–∞—Å—Ç–æ) | ‚úÖ | –í—ã—Å–æ–∫–∏–π | 0.5 –¥–Ω—è |
| 5.5.6.2 | –î–æ–±–∞–≤–∏—Ç—å rate limiting –Ω–∞ `/api/friends/suggestions` | ‚úÖ | –°—Ä–µ–¥–Ω–∏–π | 0.5 –¥–Ω—è |
| 5.5.6.3 | –î–æ–±–∞–≤–∏—Ç—å rate limiting –Ω–∞ `/api/activity/feed` | ‚úÖ | –°—Ä–µ–¥–Ω–∏–π | 0.5 –¥–Ω—è |
| 5.5.6.4 | –î–æ–±–∞–≤–∏—Ç—å IP-based rate limiting –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π (–≤ –¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∫ session-based) | ‚úÖ | –í—ã—Å–æ–∫–∏–π | 1 –¥–µ–Ω—å |
| 5.5.6.5 | –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å adaptive rate limiting (—Å–Ω–∏–∂–µ–Ω–∏–µ –ª–∏–º–∏—Ç–æ–≤ –ø—Ä–∏ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏) | ‚úÖ | –°—Ä–µ–¥–Ω–∏–π | 2 –¥–Ω—è |

**–ò—Ç–æ–≥–æ:** ~4-5 –¥–Ω–µ–π —Ä–∞–±–æ—Ç—ã

### 5.5.7. –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ —Å–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö üî¥

| # | –ó–∞–¥–∞—á–∞ | –°—Ç–∞—Ç—É—Å | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –û—Ü–µ–Ω–∫–∞ |
|---|--------|--------|-----------|--------|
| 5.5.7.1 | –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –≤—Å–µ—Ö query –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (limit, offset, sortBy) | ‚úÖ | –í—ã—Å–æ–∫–∏–π | 1 –¥–µ–Ω—å |
| 5.5.7.2 | –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é userId –≤–æ –≤—Å–µ—Ö endpoints (–ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–∞ –∏ –¥–∏–∞–ø–∞–∑–æ–Ω–∞) | ‚úÖ | –í—ã—Å–æ–∫–∏–π | 1 –¥–µ–Ω—å |
| 5.5.7.3 | –£–ª—É—á—à–∏—Ç—å —Å–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ (XSS –∑–∞—â–∏—Ç–∞) | ‚úÖ | –í—ã—Å–æ–∫–∏–π | 1 –¥–µ–Ω—å |
| 5.5.7.4 | –î–æ–±–∞–≤–∏—Ç—å Content-Security-Policy headers | ‚úÖ | –°—Ä–µ–¥–Ω–∏–π | 1 –¥–µ–Ω—å |
| 5.5.7.5 | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ –º–µ—Å—Ç–∞ –≥–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `JSON.stringify` –±–µ–∑ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Ä–∞–∑–º–µ—Ä–∞ | ‚úÖ | –°—Ä–µ–¥–Ω–∏–π | 0.5 –¥–Ω—è |

**–ò—Ç–æ–≥–æ:** ~4-5 –¥–Ω–µ–π —Ä–∞–±–æ—Ç—ã

**–û–±—â–∏–π –∏—Ç–æ–≥ Phase 5.5:** ~47-52 –¥–Ω—è —Ä–∞–±–æ—Ç—ã

---

## üü¢ PHASE 6: –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥—Ä—É–∑–µ–π (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3 ‚Äî Future)

### 6.1. –ü—Ä–∏–≤–∞—Ç–Ω—ã–µ –≥—Ä—É–ø–ø—ã –¥—Ä—É–∑–µ–π üü¢

| # | –ó–∞–¥–∞—á–∞ | –°—Ç–∞—Ç—É—Å | –û—Ü–µ–Ω–∫–∞ |
|---|--------|--------|--------|
| 6.1.1 | –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö –≥—Ä—É–ø–ø –¥—Ä—É–∑–µ–π (–¥–æ 10-20 —á–µ–ª–æ–≤–µ–∫) | ‚úÖ | 3-4 –¥–Ω—è |
| 6.1.2 | –ì—Ä—É–ø–ø–æ–≤—ã–µ —á–µ–ª–ª–µ–Ω–¥–∂–∏ (–∫—Ç–æ –¥–æ–ª—å—à–µ –ø—Ä–æ–¥–µ—Ä–∂–∏—Ç —Å—Ç—Ä–∏–∫) | ‚úÖ | 3-4 –¥–Ω—è |
| 6.1.3 | –ì—Ä—É–ø–ø–æ–≤—ã–µ –¥—É—ç–ª–∏ (–∫–æ–º–∞–Ω–¥–∞ vs –∫–æ–º–∞–Ω–¥–∞) | ‚úÖ | 4-5 –¥–Ω–µ–π |
| 6.1.4 | –ì—Ä—É–ø–ø–æ–≤–æ–π —á–∞—Ç (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, —á–µ—Ä–µ–∑ Telegram) | ‚úÖ | 5-7 –¥–Ω–µ–π |

**–ò—Ç–æ–≥–æ:** ~15-20 –¥–Ω–µ–π —Ä–∞–±–æ—Ç—ã

### 6.2. –°–æ—Ü–∏–∞–ª—å–Ω—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è üü¢

| # | –ó–∞–¥–∞—á–∞ | –°—Ç–∞—Ç—É—Å | –û—Ü–µ–Ω–∫–∞ |
|---|--------|--------|--------|
| 6.2.1 | –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è: "–°–æ—Ü–∏–∞–ª—å–Ω–∞—è –±–∞–±–æ—á–∫–∞" (10 –¥—Ä—É–∑–µ–π), "–ü–æ–¥–∞—Ä–æ—á–Ω—ã–π –º–∞–≥–Ω–∞—Ç" (50 –ø–æ–¥–∞—Ä–∫–æ–≤), "–î—É—ç–ª—å–Ω—ã–π –º–∞—Å—Ç–µ—Ä" (20 –ø–æ–±–µ–¥), "–ù–µ—Ä–∞–∑–ª—É—á–Ω—ã–µ" (30 –¥–Ω–µ–π –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è) | ‚úÖ | 3-4 –¥–Ω—è |
| 6.2.2 | –ù–∞–≥—Ä–∞–¥—ã: XP, REP, —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∞–≤–∞—Ç–∞—Ä—ã/—Ñ—Ä–µ–π–º—ã | ‚úÖ | 1-2 –¥–Ω—è |
| 6.2.3 | UI: –°–µ–∫—Ü–∏—è "–°–æ—Ü–∏–∞–ª—å–Ω—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è" –≤ –ø—Ä–æ—Ñ–∏–ª–µ | ‚úÖ | 2 –¥–Ω—è |
| 6.2.4 | UI: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π | ‚úÖ | 1 –¥–µ–Ω—å |
| 6.2.5 | UI: –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä—ã –¥–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π | ‚úÖ | 1 –¥–µ–Ω—å |

**–ò—Ç–æ–≥–æ:** ~8-10 –¥–Ω–µ–π —Ä–∞–±–æ—Ç—ã

### 6.3. ML-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥—Ä—É–∑–µ–π üü¢

| # | –ó–∞–¥–∞—á–∞ | –°—Ç–∞—Ç—É—Å | –û—Ü–µ–Ω–∫–∞ |
|---|--------|--------|--------|
| 6.3.1 | ML-–∞–ª–≥–æ—Ä–∏—Ç–º —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–æ—Ö–æ–∂–∏—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ | ‚úÖ | 5-7 –¥–Ω–µ–π |
| 6.3.2 | –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ–±—â–∏—Ö –∏–Ω—Ç–µ—Ä–µ—Å–æ–≤ (—Ç–∏–ø—ã –ø–∏—Å–µ–º, –¥—É—ç–ª–µ–π) | ‚úÖ | 3-4 –¥–Ω—è |
| 6.3.3 | –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–æ—Ü–∏–∞–ª—å–Ω–æ–≥–æ –≥—Ä–∞—Ñ–∞ (–¥—Ä—É–∑—å—è –¥—Ä—É–∑–µ–π) | ‚úÖ | 2-3 –¥–Ω—è |
| 6.3.4 | A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ | ‚úÖ | 2-3 –¥–Ω—è |
| 6.3.5 | UI: –ö–∞—Ä—Ç–æ—á–∫–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ —Å –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ–º | ‚úÖ | 2 –¥–Ω—è |

**–ò—Ç–æ–≥–æ:** ~14-19 –¥–Ω–µ–π —Ä–∞–±–æ—Ç—ã

---

## ‚ö†Ô∏è PHASE 7: –ú–∞–≥–∞–∑–∏–Ω ‚Äî –Ω–µ–¥–æ—Ä–∞–±–æ—Ç–∫–∏ (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2)

**–ò—Å—Ç–æ—á–Ω–∏–∫:** `STORE_CATALOG_AUDIT.md`

### 7.1. –ß–∞—Å—Ç–∏—á–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã ‚ö†Ô∏è

| # | –¢–æ–≤–∞—Ä | –ß—Ç–æ –µ—Å—Ç—å | –ß—Ç–æ –Ω—É–∂–Ω–æ | –°—Ç–∞—Ç—É—Å | –û—Ü–µ–Ω–∫–∞ |
|---|-------|----------|-----------|--------|--------|
| 7.1.1 | `title_custom` | –ü–æ–∫—É–ø–∫–∞ ‚Üí achievements | UI –¥–ª—è –≤–≤–æ–¥–∞/–æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–∏—Ç—É–ª–∞ | ‚úÖ | 2 –¥–Ω—è |
| 7.1.2 | `bio_extended` | –ü–æ–∫—É–ø–∫–∞ ‚Üí achievements | –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–∏–º–∏—Ç–∞: 500 —Å–∏–º–≤–æ–ª–æ–≤ vs 150 | ‚úÖ | 1 –¥–µ–Ω—å |
| 7.1.3 | `profile_theme_neon/gold` | –ü–æ–∫—É–ø–∫–∞ ‚Üí achievements | –ü–æ–ª–µ —Ç–µ–º—ã + —Å—Ç–∏–ª–∏ –≤ UI –ø—Ä–æ—Ñ–∏–ª—è | ‚úÖ | 3-4 –¥–Ω—è |
| 7.1.4 | `letter_template_basic_neon/retro` | –ü–æ–∫—É–ø–∫–∞ ‚Üí achievements | –í—ã–±–æ—Ä —à–∞–±–ª–æ–Ω–∞ + —Å—Ç–∏–ª–∏ –≤ CreateLetter | ‚úÖ | 3-4 –¥–Ω—è |
| 7.1.5 | `exclusive_badge_veteran/legend` | –ü–æ–∫—É–ø–∫–∞ ‚Üí achievements | –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –º–∞–≥–∞–∑–∏–Ω–Ω—ã—Ö –±–µ–π–¥–∂–µ–π –≤ –ø—Ä–æ—Ñ–∏–ª–µ | ‚úÖ | 2 –¥–Ω—è |
| 7.1.6 | `duel_taunt` | –ü–æ–∫—É–ø–∫–∞ ‚Üí achievements | –ü–æ–ª–µ "—Å–æ–æ–±—â–µ–Ω–∏–µ –ø—Ä–∏ –ø–æ–±–µ–¥–µ" + –æ—Ç–ø—Ä–∞–≤–∫–∞ | ‚úÖ | 2-3 –¥–Ω—è |

**–ò—Ç–æ–≥–æ:** ~13-16 –¥–Ω–µ–π —Ä–∞–±–æ—Ç—ã

### 7.2. –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã ‚ùå

| # | –¢–æ–≤–∞—Ä | –ß—Ç–æ –Ω—É–∂–Ω–æ | –°—Ç–∞—Ç—É—Å | –û—Ü–µ–Ω–∫–∞ |
|---|-------|-----------|--------|--------|
| 7.2.1 | `extra_daily_quest` | –ü—Ä–∏ –ø–æ–∫—É–ø–∫–µ –¥–æ–±–∞–≤–ª—è—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –∫–≤–µ—Å—Ç-–∑–∞–ø–∏—Å—å –Ω–∞ —Å–µ–≥–æ–¥–Ω—è | ‚úÖ | 2 –¥–Ω—è |
| 7.2.2 | `free_gift_pack` | –£–≤–µ–ª–∏—á–∏–≤–∞—Ç—å –±–∞–ª–∞–Ω—Å –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö –ø–æ–¥–∞—Ä–∫–æ–≤ (3 –µ–¥–∏–Ω–∏—Ü—ã) | ‚úÖ | 2 –¥–Ω—è |
| 7.2.3 | `squad_banner` | –ü–æ–ª–µ banner_url –≤ squads + UI –∑–∞–≥—Ä—É–∑–∫–∏/–≤—ã–±–æ—Ä–∞/–æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è | ‚úÖ | 3-4 –¥–Ω—è |

**–ò—Ç–æ–≥–æ:** ~7-8 –¥–Ω–µ–π —Ä–∞–±–æ—Ç—ã

---

## üî¥ PHASE 8: –ö—Ä–∏—Ç–∏—á–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1)

### 8.1. –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –º–µ—Ç—Ä–∏–∫–∏ üî¥

| # | –ó–∞–¥–∞—á–∞ | –°—Ç–∞—Ç—É—Å | –û—Ü–µ–Ω–∫–∞ |
|---|--------|--------|--------|
| 8.1.1 | North Star –º–µ—Ç—Ä–∏–∫–∞ + –≤–æ—Ä–æ–Ω–∫–∏ (onboarding, monetization, viral) | ‚úÖ | 5-7 –¥–Ω–µ–π |
| 8.1.2 | –ü–æ–ª–Ω–æ–µ —Å–æ–±—ã—Ç–∏–π–Ω–æ–µ —Ç—Ä–µ–∫–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∫–ª—é—á–µ–≤—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π | ‚úÖ | 3-4 –¥–Ω—è |
| 8.1.3 | –î–∞—à–±–æ—Ä–¥ –¥–ª—è PM —Å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–µ–π –º–µ—Ç—Ä–∏–∫ | ‚úÖ | 5-7 –¥–Ω–µ–π |

**–ò—Ç–æ–≥–æ:** ~13-18 –¥–Ω–µ–π —Ä–∞–±–æ—Ç—ã

### 8.2. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å üî¥

| # | –ó–∞–¥–∞—á–∞ | –°—Ç–∞—Ç—É—Å | –û—Ü–µ–Ω–∫–∞ |
|---|--------|--------|--------|
| 8.2.1 | E2E —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ (–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ –ø–æ README) | üöß | 10-15 –¥–Ω–µ–π |
| 8.2.2 | Rate limiting –¥–ª—è –≤—Å–µ—Ö –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö endpoints | ‚úÖ | –†–∞—Å—à–∏—Ä–µ–Ω–æ: friend request, challenge create |
| 8.2.3 | SQL injection –∑–∞—â–∏—Ç–∞ (—Ç–µ—Å—Ç—ã –≤ TODO) | ‚úÖ | –î–æ–±–∞–≤–ª–µ–Ω—ã integration-—Ç–µ—Å—Ç—ã –≤ __tests__/integration/security/sqlInjection.test.js |
| 8.2.4 | –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö | ‚ö†Ô∏è | Zod: store, gifts, challenges, activity, daily-quests, duels, letters, notifications, squads (id, create, update, add-member, leaderboard query) |

**–ò—Ç–æ–≥–æ:** ~15-20 –¥–Ω–µ–π —Ä–∞–±–æ—Ç—ã

---

## üü° PHASE 9: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2)

### 9.1. TON –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è üü°

| # | –ó–∞–¥–∞—á–∞ | –°—Ç–∞—Ç—É—Å | –û—Ü–µ–Ω–∫–∞ |
|---|--------|--------|--------|
| 9.1.1 | –£–ª—É—á—à–µ–Ω–∏–µ –Ω–∞—Å–ª–µ–¥—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø–ª–∞–Ω–æ–≤ | ‚ö†Ô∏è | –ß–∞—Å—Ç–∏—á–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ |
| 9.1.2 | Escrow —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª | ‚ö†Ô∏è | –ß–∞—Å—Ç–∏—á–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ |
| 9.1.3 | –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ | ‚ö†Ô∏è | –ß–∞—Å—Ç–∏—á–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ |

### 9.2. –ì–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏—è üü°

| # | –ó–∞–¥–∞—á–∞ | –°—Ç–∞—Ç—É—Å | –û—Ü–µ–Ω–∫–∞ |
|---|--------|--------|--------|
| 9.2.1 | –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π | ‚ö†Ô∏è | –ß–∞—Å—Ç–∏—á–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ |
| 9.2.2 | –°–µ–∑–æ–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è | ‚úÖ | –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ |
| 9.2.3 | –¢—É—Ä–Ω–∏—Ä—ã | ‚úÖ | –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ |
| 9.2.4 | –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –∫–≤–µ—Å—Ç—ã | ‚úÖ | –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ |

---

## üìÖ –ü–ª–∞–Ω –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –ø–æ —Ñ–∞–∑–∞–º

### –ö–≤–∞—Ä—Ç–∞–ª 1 (Q1 2026) ‚Äî MVP –¥—Ä—É–∑–µ–π + –ö—Ä–∏—Ç–∏—á–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

**–ù–µ–¥–µ–ª–∏ 1-3:** PHASE 4.1 ‚Äî –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥—Ä—É–∂–±—ã
- –¢–∞–±–ª–∏—Ü–∞ friendships
- –ë–∞–∑–æ–≤—ã–µ API endpoints
- –≠–∫—Ä–∞–Ω "–î—Ä—É–∑—å—è"

**–ù–µ–¥–µ–ª–∏ 4-5:** PHASE 4.2 ‚Äî –ü–æ–∏—Å–∫ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
- –ü–æ–∏—Å–∫ –¥—Ä—É–∑–µ–π
- –ë–∞–∑–æ–≤—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

**–ù–µ–¥–µ–ª–∏ 6-7:** PHASE 4.3 ‚Äî –£–ª—É—á—à–µ–Ω–Ω–∞—è –ª–µ–Ω—Ç–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ª–µ–Ω—Ç—ã –¥–ª—è –¥—Ä—É–∑–µ–π
- –ù–æ–≤—ã–µ —Ç–∏–ø—ã –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

**–ù–µ–¥–µ–ª–∏ 8-10:** PHASE 7 ‚Äî –ú–∞–≥–∞–∑–∏–Ω –Ω–µ–¥–æ—Ä–∞–±–æ—Ç–∫–∏
- –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ consumable —Ç–æ–≤–∞—Ä–æ–≤
- UI –¥–ª—è —á–∞—Å—Ç–∏—á–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤

**–ù–µ–¥–µ–ª–∏ 11-12:** PHASE 8.1 ‚Äî –ê–Ω–∞–ª–∏—Ç–∏–∫–∞
- North Star –º–µ—Ç—Ä–∏–∫–∞
- –ü–æ–ª–Ω–æ–µ —Ç—Ä–µ–∫–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π

### –ö–≤–∞—Ä—Ç–∞–ª 2 (Q2 2026) ‚Äî Post-MVP –¥—Ä—É–∑–µ–π

**–ù–µ–¥–µ–ª–∏ 1-3:** PHASE 5.1 ‚Äî –°—Ç–∞—Ç—É—Å—ã –¥—Ä—É–∑–µ–π
- –û–Ω–ª–∞–π–Ω/–æ—Ñ–ª–∞–π–Ω —Å—Ç–∞—Ç—É—Å—ã
- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–∏—è

**–ù–µ–¥–µ–ª–∏ 4-6:** PHASE 5.2 ‚Äî –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –¥—Ä—É–∑–µ–π
- –ì—Ä—É–ø–ø—ã –¥—Ä—É–∑–µ–π
- –§–∏–ª—å—Ç—Ä—ã –∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è

**–ù–µ–¥–µ–ª–∏ 7-9:** PHASE 5.3 ‚Äî –ò—Å—Ç–æ—Ä–∏—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π
- UI –∏—Å—Ç–æ—Ä–∏–∏

**–ù–µ–¥–µ–ª–∏ 10-12:** PHASE 5.4 ‚Äî –°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ –¥—É—ç–ª—è—Ö
- –î—É—ç–ª–∏ —Å –¥—Ä—É–∑—å—è–º–∏
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ —Ñ–∏–ª—å—Ç—Ä—ã

### –ö–≤–∞—Ä—Ç–∞–ª 3 (Q3 2026) ‚Äî –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

**–ù–µ–¥–µ–ª–∏ 1-4:** PHASE 6.1 ‚Äî –ü—Ä–∏–≤–∞—Ç–Ω—ã–µ –≥—Ä—É–ø–ø—ã –¥—Ä—É–∑–µ–π
**–ù–µ–¥–µ–ª–∏ 5-7:** PHASE 6.2 ‚Äî –°–æ—Ü–∏–∞–ª—å–Ω—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
**–ù–µ–¥–µ–ª–∏ 8-12:** PHASE 6.3 ‚Äî ML-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

---

## üìä –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞

### –î—Ä—É–∑—å—è (PHASE 4-6)
- **Friends Adoption Rate:** % –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å ‚â•1 –¥—Ä—É–≥–æ–º (—Ü–µ–ª—å: 60%+)
- **Average Friends per User:** —Å—Ä–µ–¥–Ω–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥—Ä—É–∑–µ–π (—Ü–µ–ª—å: 3-5)
- **Friends Retention:** retention –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –¥—Ä—É–∑—å—è–º–∏ vs –±–µ–∑ (—Ü–µ–ª—å: +30%)
- **Friends Engagement:** DAU –ª–µ–Ω—Ç—ã –¥—Ä—É–∑–µ–π / –æ–±—â–∏–π DAU (—Ü–µ–ª—å: 40%+)
- **Friend Request Acceptance Rate:** % –ø—Ä–∏–Ω—è—Ç—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ (—Ü–µ–ª—å: 70%+)

### –ú–∞–≥–∞–∑–∏–Ω (PHASE 7)
- **Store Conversion Rate:** % –ø–æ–∫—É–ø–æ–∫ –æ—Ç –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤ (—Ü–µ–ª—å: 5%+)
- **Consumable Usage Rate:** % –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã—Ö consumable —Ç–æ–≤–∞—Ä–æ–≤ (—Ü–µ–ª—å: 80%+)
- **Premium Conversion:** % –∫–æ–Ω–≤–µ—Ä—Å–∏–∏ –≤ Premium —á–µ—Ä–µ–∑ –º–∞–≥–∞–∑–∏–Ω (—Ü–µ–ª—å: 10%+)

### –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ (PHASE 8)
- **Event Tracking Coverage:** % –∫–ª—é—á–µ–≤—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π —Å —Ç—Ä–µ–∫–∏–Ω–≥–æ–º (—Ü–µ–ª—å: 100%)
- **Dashboard Usage:** —á–∞—Å—Ç–æ—Ç–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥–∞—à–±–æ—Ä–¥–∞ PM (—Ü–µ–ª—å: –µ–∂–µ–¥–Ω–µ–≤–Ω–æ)

---

## üéØ –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è –∑–∞–¥–∞—á

### üî¥ –ö—Ä–∏—Ç–∏—á–Ω–æ (–¥–µ–ª–∞—Ç—å –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ)
1. PHASE 4.1 ‚Äî –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥—Ä—É–∂–±—ã (MVP)
2. PHASE 7.2 ‚Äî –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã –º–∞–≥–∞–∑–∏–Ω–∞
3. PHASE 8.1 ‚Äî –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –º–µ—Ç—Ä–∏–∫–∏

### üü° –í–∞–∂–Ω–æ (–¥–µ–ª–∞—Ç—å –ø–æ—Å–ª–µ –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö)
1. PHASE 4.2 ‚Äî –ü–æ–∏—Å–∫ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥—Ä—É–∑–µ–π
2. PHASE 4.3 ‚Äî –£–ª—É—á—à–µ–Ω–Ω–∞—è –ª–µ–Ω—Ç–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
3. PHASE 5.1-5.4 ‚Äî Post-MVP —Ñ—É–Ω–∫—Ü–∏–∏ –¥—Ä—É–∑–µ–π
4. PHASE 7.1 ‚Äî –ß–∞—Å—Ç–∏—á–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã

### üü¢ –ñ–µ–ª–∞—Ç–µ–ª—å–Ω–æ (–¥–µ–ª–∞—Ç—å –∫–æ–≥–¥–∞ –±—É–¥–µ—Ç –≤—Ä–µ–º—è)
1. PHASE 6 ‚Äî –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥—Ä—É–∑–µ–π
2. PHASE 9 ‚Äî –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

---

## üìù –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ù–æ–≤—ã–µ —Ç–∞–±–ª–∏—Ü—ã –ë–î

```sql
-- –î—Ä—É–∂–±–∞
CREATE TABLE friendships (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id BIGINT NOT NULL,
  friend_id BIGINT NOT NULL,
  status VARCHAR(20) DEFAULT 'pending', -- pending, accepted, blocked
  requested_by BIGINT NOT NULL,
  created_at TIMESTAMP DEFAULT now(),
  accepted_at TIMESTAMP,
  UNIQUE(user_id, friend_id),
  FOREIGN KEY (user_id) REFERENCES profiles(user_id),
  FOREIGN KEY (friend_id) REFERENCES profiles(user_id)
);

-- –ì—Ä—É–ø–ø—ã –¥—Ä—É–∑–µ–π
CREATE TABLE friend_groups (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id BIGINT NOT NULL,
  name VARCHAR(100) NOT NULL,
  color VARCHAR(20),
  icon VARCHAR(50),
  created_at TIMESTAMP DEFAULT now(),
  FOREIGN KEY (user_id) REFERENCES profiles(user_id)
);

CREATE TABLE friend_group_members (
  group_id UUID NOT NULL,
  friend_id BIGINT NOT NULL,
  PRIMARY KEY (group_id, friend_id),
  FOREIGN KEY (group_id) REFERENCES friend_groups(id) ON DELETE CASCADE,
  FOREIGN KEY (friend_id) REFERENCES profiles(user_id)
);

-- –ò—Å—Ç–æ—Ä–∏—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π
CREATE TABLE friend_interactions (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id BIGINT NOT NULL,
  friend_id BIGINT NOT NULL,
  interaction_type VARCHAR(50) NOT NULL,
  target_id VARCHAR(255),
  target_type VARCHAR(50),
  metadata JSONB,
  created_at TIMESTAMP DEFAULT now(),
  FOREIGN KEY (user_id) REFERENCES profiles(user_id),
  FOREIGN KEY (friend_id) REFERENCES profiles(user_id)
);
```

### –ù–æ–≤—ã–µ API endpoints

```
POST   /api/friends/request/:userId
POST   /api/friends/accept/:userId
POST   /api/friends/decline/:userId
DELETE /api/friends/:userId
GET    /api/friends
GET    /api/friends/pending
GET    /api/friends/search?q=username
GET    /api/friends/suggestions
GET    /api/friends/online
GET    /api/friends/:userId/history
POST   /api/friends/groups
PUT    /api/friends/groups/:id
POST   /api/friends/groups/:id/members
GET    /api/friends/groups
```

---

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ä–æ–∞–¥–º–∞–ø–∞

–≠—Ç–æ—Ç —Ä–æ–∞–¥–º–∞–ø –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç:
- ‚úÖ `ROADMAP.md` ‚Äî —Ç–µ–∫—É—â–∏–π —Ä–æ–∞–¥–º–∞–ø –ø—Ä–æ–µ–∫—Ç–∞
- ‚úÖ `FRIENDS_ANALYSIS.md` ‚Äî –∞–Ω–∞–ª–∏–∑ —Å–∏—Å—Ç–µ–º—ã –¥—Ä—É–∑–µ–π
- ‚úÖ `STORE_CATALOG_AUDIT.md` ‚Äî –∞—É–¥–∏—Ç –º–∞–≥–∞–∑–∏–Ω–∞
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞ –Ω–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

**–°–ª–µ–¥—É—é—â–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è PHASE 4.1

---

**–ê–≤—Ç–æ—Ä:** AI Product Manager + Code Analysis  
**–í–µ—Ä—Å–∏—è:** 1.0  
**–î–∞—Ç–∞:** 2026-02-16
