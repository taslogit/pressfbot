# üìä –ê–Ω–∞–ª–∏–∑ —Ä–∞–∑–¥–µ–ª–∞ "–î—Ä—É–∑—å—è" ‚Äî –ü—Ä–æ–¥–∞–∫—Ç –º–µ–Ω–µ–¥–∂–µ—Ä —Å 20-–ª–µ—Ç–Ω–∏–º —Å—Ç–∞–∂–µ–º

## üîç –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

### –°—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:
1. **–†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞** (–æ–¥–Ω–æ—Å—Ç–æ—Ä–æ–Ω–Ω—è—è —Å–≤—è–∑—å)
   - –ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –¥—Ä—É–∑–µ–π –ø–æ —Å—Å—ã–ª–∫–µ
   - –ù–∞–≥—Ä–∞–¥—ã –∑–∞ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤ (XP, REP, Premium –¥–Ω–∏)
   - –ú–∏–ª—Å—Ç–æ—É–Ω—ã (1, 2, 3, 5, 10, 25, 50 —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤)
   - –°–ø–∏—Å–æ–∫ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤ (–∫—Ç–æ –ø—Ä–∏–≥–ª–∞—Å–∏–ª —Ç–µ–±—è / –∫–æ–≥–æ —Ç—ã –ø—Ä–∏–≥–ª–∞—Å–∏–ª)

2. **–ß–µ–ª–ª–µ–Ω–¥–∂–∏ "–¥–Ω–µ–π –ø–æ–¥—Ä—è–¥"**
   - –í—ã–∑–æ–≤ —Ä–µ—Ñ–µ—Ä–∞–ª–∞ –Ω–∞ —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏–µ –ø–æ —Å—Ç—Ä–∏–∫—É
   - –°—Ç–∞—Ç—É—Å—ã: pending, active
   - –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ —Å—Ç—Ä–∏–∫–∞ –æ–±–æ–∏—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤

3. **–õ–µ–Ω—Ç–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –¥—Ä—É–∑–µ–π**
   - –§–∏–ª—å—Ç—Ä "Friends" –≤ ActivityFeed
   - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Ç–æ–ª—å–∫–æ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤
   - –¢–∏–ø—ã –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏: letter_created, duel_created, gift_received, check_in, tournament_win, level_up

4. **–ü–æ–¥–∞—Ä–∫–∏**
   - –û—Ç–ø—Ä–∞–≤–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –ª—é–±–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é (–Ω–µ —Ç–æ–ª—å–∫–æ —Ä–µ—Ñ–µ—Ä–∞–ª–∞–º)
   - –¢–∏–ø—ã –ø–æ–¥–∞—Ä–∫–æ–≤ —Å —ç—Ñ—Ñ–µ–∫—Ç–∞–º–∏ (XP boost, REP –∏ —Ç.–¥.)

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–π —Å–∏—Å—Ç–µ–º—ã:
- ‚ùå –î—Ä—É–∑—å—è = —Ç–æ–ª—å–∫–æ —Ä–µ—Ñ–µ—Ä–∞–ª—ã (–æ–¥–Ω–æ—Å—Ç–æ—Ä–æ–Ω–Ω—è—è —Å–≤—è–∑—å)
- ‚ùå –ù–µ—Ç –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞ –¥—Ä—É–∑–µ–π
- ‚ùå –ù–µ—Ç –≤–∑–∞–∏–º–Ω—ã—Ö —Å–≤—è–∑–µ–π –¥—Ä—É–∂–±—ã
- ‚ùå –ù–µ—Ç –ø–æ–∏—Å–∫–∞ –¥—Ä—É–∑–µ–π
- ‚ùå –ù–µ—Ç —Å—Ç–∞—Ç—É—Å–æ–≤ –¥—Ä—É–∂–±—ã (–æ–Ω–ª–∞–π–Ω/–æ—Ñ–ª–∞–π–Ω)
- ‚ùå –ù–µ—Ç –≥—Ä—É–ø–ø–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
- ‚ùå –ù–µ—Ç –∏—Å—Ç–æ—Ä–∏–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π
- ‚ùå –ù–µ—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏–∏ –¥—Ä—É–∑–µ–π (–±–ª–∏–∑–∫–∏–µ, –∑–Ω–∞–∫–æ–º—ã–µ –∏ —Ç.–¥.)
- ‚ùå –ù–µ—Ç —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –¥—Ä—É–∑–µ–π
- ‚ùå –ù–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Telegram –∫–æ–Ω—Ç–∞–∫—Ç–∞–º–∏

---

## üéØ –°—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏–µ —Ü–µ–ª–∏ —É–ª—É—á—à–µ–Ω–∏—è

### 1. **Retention (–£–¥–µ—Ä–∂–∞–Ω–∏–µ)**
- –°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–≤—è–∑–∏ —É–≤–µ–ª–∏—á–∏–≤–∞—é—Ç retention –Ω–∞ 40-60%
- –î—Ä—É–∑—å—è —Å–æ–∑–¥–∞—é—Ç "social lock-in" ‚Äî —Å–ª–æ–∂–Ω–µ–µ —É–π—Ç–∏, –∫–æ–≥–¥–∞ –µ—Å—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–µ —Å–≤—è–∑–∏

### 2. **Engagement (–í–æ–≤–ª–µ—á–µ–Ω–Ω–æ—Å—Ç—å)**
- –î—Ä—É–∑—å—è –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç 3-5x –±–æ–ª—å—à–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- –°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Ç—Ä–∏–≥–≥–µ—Ä—ã (—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –¥–µ–π—Å—Ç–≤–∏—è—Ö –¥—Ä—É–∑–µ–π) —É–≤–µ–ª–∏—á–∏–≤–∞—é—Ç DAU

### 3. **Viral Growth (–í–∏—Ä—É—Å–Ω—ã–π —Ä–æ—Å—Ç)**
- –¢–µ–∫—É—â–∞—è —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å
- –°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏, —Ä–µ–∞–∫—Ü–∏–∏) —É–≤–µ–ª–∏—á–∏–≤–∞—é—Ç sharing

### 4. **Monetization (–ú–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—è)**
- –ü–æ–¥–∞—Ä–∫–∏ –º–µ–∂–¥—É –¥—Ä—É–∑—å—è–º–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –º–æ–Ω–µ—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω—ã
- Premium —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –¥—Ä—É–∑–µ–π (–≥—Ä—É–ø–ø—ã, –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –¥—É—ç–ª–∏)

---

## üöÄ –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø–æ –¥–æ—Ä–∞–±–æ—Ç–∫–µ

### üìå –ü–†–ò–û–†–ò–¢–ï–¢ 1: –ö—Ä–∏—Ç–∏—á–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è (MVP)

#### 1.1. **–ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥—Ä—É–∂–±—ã**
**–ü—Ä–æ–±–ª–µ–º–∞:** –°–µ–π—á–∞—Å –¥—Ä—É–∑—å—è = —Ç–æ–ª—å–∫–æ —Ä–µ—Ñ–µ—Ä–∞–ª—ã, –Ω–µ—Ç –≤–∑–∞–∏–º–Ω—ã—Ö —Å–≤—è–∑–µ–π

**–†–µ—à–µ–Ω–∏–µ:**
- –°–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É `friendships` —Å –¥–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω–∏–º–∏ —Å–≤—è–∑—è–º–∏
- –°—Ç–∞—Ç—É—Å—ã: `pending` (–∑–∞–ø—Ä–æ—Å –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω), `accepted` (–≤–∑–∞–∏–º–Ω–∞—è –¥—Ä—É–∂–±–∞), `blocked`
- API endpoints:
  - `POST /api/friends/request/:userId` ‚Äî –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–ø—Ä–æ—Å
  - `POST /api/friends/accept/:userId` ‚Äî –ø—Ä–∏–Ω—è—Ç—å –∑–∞–ø—Ä–æ—Å
  - `POST /api/friends/decline/:userId` ‚Äî –æ—Ç–∫–ª–æ–Ω–∏—Ç—å
  - `DELETE /api/friends/:userId` ‚Äî —É–¥–∞–ª–∏—Ç—å –∏–∑ –¥—Ä—É–∑–µ–π
  - `GET /api/friends` ‚Äî —Å–ø–∏—Å–æ–∫ –¥—Ä—É–∑–µ–π (—Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π)
  - `GET /api/friends/pending` ‚Äî –≤—Ö–æ–¥—è—â–∏–µ/–∏—Å—Ö–æ–¥—è—â–∏–µ –∑–∞–ø—Ä–æ—Å—ã

**UI:**
- –≠–∫—Ä–∞–Ω "–î—Ä—É–∑—å—è" —Å —Ç–∞–±–∞–º–∏: "–ú–æ–∏ –¥—Ä—É–∑—å—è", "–ó–∞–ø—Ä–æ—Å—ã", "–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏"
- –ö–∞—Ä—Ç–æ—á–∫–∞ –¥—Ä—É–≥–∞: –∞–≤–∞—Ç–∞—Ä, –∏–º—è, —É—Ä–æ–≤–µ–Ω—å, –ø–æ—Å–ª–µ–¥–Ω—è—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å, –∫–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π
- Badge —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –Ω–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

**–ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞:**
- % –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å ‚â•1 –¥—Ä—É–≥–æ–º (—Ü–µ–ª—å: 60%+)
- –°—Ä–µ–¥–Ω–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥—Ä—É–∑–µ–π –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—Ü–µ–ª—å: 3-5)
- Retention –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –¥—Ä—É–∑—å—è–º–∏ vs –±–µ–∑ (—Ü–µ–ª—å: +30%)

---

#### 1.2. **–ü–æ–∏—Å–∫ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥—Ä—É–∑–µ–π**
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ—Ç —Å–ø–æ—Å–æ–±–∞ –Ω–∞–π—Ç–∏ –¥—Ä—É–∑–µ–π –∫—Ä–æ–º–µ —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–æ–π —Å—Å—ã–ª–∫–∏

**–†–µ—à–µ–Ω–∏–µ:**
- `GET /api/friends/search?q=username` ‚Äî –ø–æ–∏—Å–∫ –ø–æ username/title
- `GET /api/friends/suggestions` ‚Äî —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ:
  - –û–±—â–∏—Ö —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤ (mutual referrals)
  - –û–±—â–∏—Ö –¥—É—ç–ª–µ–π (mutual duels)
  - –û–±—â–∏—Ö —Å–∫–≤–∞–¥–æ–≤ (mutual squads)
  - –ü–æ—Ö–æ–∂–∏—Ö –∏–Ω—Ç–µ—Ä–µ—Å–æ–≤ (–ø–æ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏)
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram –∫–æ–Ω—Ç–∞–∫—Ç–∞–º–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, —Ç—Ä–µ–±—É–µ—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è)

**UI:**
- –ü–æ–∏—Å–∫–æ–≤–∞—è —Å—Ç—Ä–æ–∫–∞ –≤ —Ä–∞–∑–¥–µ–ª–µ "–î—Ä—É–∑—å—è"
- –°–µ–∫—Ü–∏—è "–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏" —Å –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ö–Ω–æ–ø–∫–∞ "–î–æ–±–∞–≤–∏—Ç—å –≤ –¥—Ä—É–∑—å—è" –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–µ

**–ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞:**
- % –∑–∞–ø—Ä–æ—Å–æ–≤ –¥—Ä—É–∂–±—ã, –ø—Ä–∏–Ω—è—Ç—ã—Ö –∏–∑ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π (—Ü–µ–ª—å: 25%+)
- –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –¥–æ –ø–µ—Ä–≤–æ–≥–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –¥—Ä—É–≥–∞ (—Ü–µ–ª—å: <7 –¥–Ω–µ–π)

---

#### 1.3. **–£–ª—É—á—à–µ–Ω–Ω–∞—è –ª–µ–Ω—Ç–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –¥—Ä—É–∑–µ–π**
**–ü—Ä–æ–±–ª–µ–º–∞:** –¢–µ–∫—É—â–∞—è –ª–µ–Ω—Ç–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤, –Ω–µ –≤—Å–µ—Ö –¥—Ä—É–∑–µ–π

**–†–µ—à–µ–Ω–∏–µ:**
- –û–±–Ω–æ–≤–∏—Ç—å `/api/activity/feed?friends=true` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `friendships`
- –î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã: "–í—Å–µ –¥—Ä—É–∑—å—è", "–ë–ª–∏–∑–∫–∏–µ –¥—Ä—É–∑—å—è", "–†–µ—Ñ–µ—Ä–∞–ª—ã"
- –î–æ–±–∞–≤–∏—Ç—å —Ç–∏–ø—ã –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏:
  - `friend_added` ‚Äî –¥—Ä—É–≥ –¥–æ–±–∞–≤–∏–ª –Ω–æ–≤–æ–≥–æ –¥—Ä—É–≥–∞
  - `friend_level_up` ‚Äî –¥—Ä—É–≥ –ø–æ–≤—ã—Å–∏–ª —É—Ä–æ–≤–µ–Ω—å
  - `friend_achievement_unlocked` ‚Äî –¥—Ä—É–≥ –ø–æ–ª—É—á–∏–ª –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ
  - `friend_duel_won` ‚Äî –¥—Ä—É–≥ –≤—ã–∏–≥—Ä–∞–ª –¥—É—ç–ª—å

**UI:**
- –£–ª—É—á—à–µ–Ω–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ —Å –∞–≤–∞—Ç–∞—Ä–∞–º–∏ –¥—Ä—É–∑–µ–π
- –ö–Ω–æ–ø–∫–∞ "–ü–µ—Ä–µ–π—Ç–∏ –∫ –ø—Ä–æ—Ñ–∏–ª—é" –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–µ
- –§–∏–ª—å—Ç—Ä—ã –ø–æ —Ç–∏–ø–∞–º –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

**–ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞:**
- DAU –ª–µ–Ω—Ç—ã –¥—Ä—É–∑–µ–π (—Ü–µ–ª—å: 40%+ –æ—Ç –æ–±—â–µ–≥–æ DAU)
- –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ª–µ–Ω—Ç—ã (—Ü–µ–ª—å: 2+ –º–∏–Ω—É—Ç—ã)

---

### üìå –ü–†–ò–û–†–ò–¢–ï–¢ 2: –í–∞–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è (Post-MVP)

#### 2.1. **–°—Ç–∞—Ç—É—Å—ã –∏ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–∏–µ –¥—Ä—É–∑–µ–π**
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ç–æ–º, –∫—Ç–æ –æ–Ω–ª–∞–π–Ω/–∞–∫—Ç–∏–≤–µ–Ω

**–†–µ—à–µ–Ω–∏–µ:**
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ `last_seen_at` –≤ —Ç–∞–±–ª–∏—Ü–µ `sessions`
- –°—Ç–∞—Ç—É—Å—ã: `online` (–±—ã–ª –∞–∫—Ç–∏–≤–µ–Ω <5 –º–∏–Ω—É—Ç), `recent` (<1 —á–∞—Å), `offline`
- `GET /api/friends/online` ‚Äî —Å–ø–∏—Å–æ–∫ –æ–Ω–ª–∞–π–Ω –¥—Ä—É–∑–µ–π

**UI:**
- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å—Ç–∞—Ç—É—Å–∞ –Ω–∞ –∞–≤–∞—Ç–∞—Ä–µ –¥—Ä—É–≥–∞ (–∑–µ–ª–µ–Ω–∞—è —Ç–æ—á–∫–∞ = –æ–Ω–ª–∞–π–Ω)
- –°–µ–∫—Ü–∏—è "–û–Ω–ª–∞–π–Ω –¥—Ä—É–∑—å—è" –≤ —Ä–∞–∑–¥–µ–ª–µ "–î—Ä—É–∑—å—è"
- Badge —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –æ–Ω–ª–∞–π–Ω –¥—Ä—É–∑–µ–π

**–ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞:**
- % –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –∫–æ—Ç–æ—Ä—ã–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É—é—Ç —Å –æ–Ω–ª–∞–π–Ω –¥—Ä—É–∑—å—è–º–∏ (—Ü–µ–ª—å: 30%+)

---

#### 2.2. **–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ –≥—Ä—É–ø–ø—ã –¥—Ä—É–∑–µ–π**
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ—Ç —Å–ø–æ—Å–æ–±–∞ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å –¥—Ä—É–∑–µ–π

**–†–µ—à–µ–Ω–∏–µ:**
- –¢–∞–±–ª–∏—Ü–∞ `friend_groups` (id, user_id, name, color, icon)
- –¢–∞–±–ª–∏—Ü–∞ `friend_group_members` (group_id, friend_id)
- API:
  - `POST /api/friends/groups` ‚Äî —Å–æ–∑–¥–∞—Ç—å –≥—Ä—É–ø–ø—É
  - `PUT /api/friends/groups/:id` ‚Äî –æ–±–Ω–æ–≤–∏—Ç—å
  - `POST /api/friends/groups/:id/members` ‚Äî –¥–æ–±–∞–≤–∏—Ç—å –¥—Ä—É–≥–∞
  - `GET /api/friends/groups` ‚Äî —Å–ø–∏—Å–æ–∫ –≥—Ä—É–ø–ø

**UI:**
- –¢–µ–≥–∏/—Ü–≤–µ—Ç–∞ –¥–ª—è –≥—Ä—É–ø–ø –¥—Ä—É–∑–µ–π
- –§–∏–ª—å—Ç—Ä –ø–æ –≥—Ä—É–ø–ø–∞–º –≤ —Å–ø–∏—Å–∫–µ –¥—Ä—É–∑–µ–π
- –ë—ã—Å—Ç—Ä–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –≥—Ä—É–ø–ø—É –ø—Ä–∏ –ø—Ä–∏–Ω—è—Ç–∏–∏ –∑–∞–ø—Ä–æ—Å–∞

**–ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞:**
- % –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, —Å–æ–∑–¥–∞–≤—à–∏—Ö ‚â•1 –≥—Ä—É–ø–ø—É (—Ü–µ–ª—å: 20%+)

---

#### 2.3. **–ò—Å—Ç–æ—Ä–∏—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π**
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ—Ç –∏—Å—Ç–æ—Ä–∏–∏ –æ–±—â–µ–Ω–∏—è/–≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π —Å –¥—Ä—É–∑—å—è–º–∏

**–†–µ—à–µ–Ω–∏–µ:**
- –¢–∞–±–ª–∏—Ü–∞ `friend_interactions` (id, user_id, friend_id, interaction_type, metadata, created_at)
- –¢–∏–ø—ã –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π:
  - `gift_sent` / `gift_received`
  - `duel_challenged` / `duel_won` / `duel_lost`
  - `challenge_created` / `challenge_won`
  - `letter_sent` (–µ—Å–ª–∏ –ø–∏—Å—å–º–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –¥—Ä—É–≥—É)
- `GET /api/friends/:userId/history` ‚Äî –∏—Å—Ç–æ—Ä–∏—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π

**UI:**
- –í–∫–ª–∞–¥–∫–∞ "–ò—Å—Ç–æ—Ä–∏—è" –≤ –ø—Ä–æ—Ñ–∏–ª–µ –¥—Ä—É–≥–∞
- Timeline –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞: "–û—Ç–ø—Ä–∞–≤–∏–ª –ø–æ–¥–∞—Ä–∫–æ–≤: 5", "–í—ã–∏–≥—Ä–∞–ª –¥—É—ç–ª–µ–π: 3"

**–ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞:**
- –°—Ä–µ–¥–Ω–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π –Ω–∞ –ø–∞—Ä—É –¥—Ä—É–∑–µ–π (—Ü–µ–ª—å: 5+)

---

#### 2.4. **–°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ –¥—É—ç–ª—è—Ö**
**–ü—Ä–æ–±–ª–µ–º–∞:** –î—É—ç–ª–∏ –Ω–µ —Å–≤—è–∑–∞–Ω—ã —Å –¥—Ä—É–∑—å—è–º–∏

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –¥—É—ç–ª–∏ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å–ø–∏—Å–æ–∫ –¥—Ä—É–∑–µ–π –∫–∞–∫ –æ–ø–ø–æ–Ω–µ–Ω—Ç–æ–≤
- `GET /api/duels?friends=true` ‚Äî –¥—É—ç–ª–∏ —Å –¥—Ä—É–∑—å—è–º–∏
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥—Ä—É–∑—å—è–º –æ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø—É–±–ª–∏—á–Ω–æ–π –¥—É—ç–ª–∏
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞: "–î—É—ç–ª–∏ —Å –¥—Ä—É–∑—å—è–º–∏: 12 –ø–æ–±–µ–¥ / 3 –ø–æ—Ä–∞–∂–µ–Ω–∏—è"

**UI:**
- –§–∏–ª—å—Ç—Ä "–° –¥—Ä—É–∑—å—è–º–∏" –≤ —Å–ø–∏—Å–∫–µ –¥—É—ç–ª–µ–π
- Badge "–î—Ä—É–≥" –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–µ –æ–ø–ø–æ–Ω–µ–Ω—Ç–∞ –≤ –¥—É—ç–ª–∏
- –°–µ–∫—Ü–∏—è "–î—É—ç–ª–∏ —Å –¥—Ä—É–∑—å—è–º–∏" –≤ –ø—Ä–æ—Ñ–∏–ª–µ

**–ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞:**
- % –¥—É—ç–ª–µ–π, —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö —Å –¥—Ä—É–∑—å—è–º–∏ (—Ü–µ–ª—å: 40%+)

---

### üìå –ü–†–ò–û–†–ò–¢–ï–¢ 3: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (Future)

#### 3.1. **–ü—Ä–∏–≤–∞—Ç–Ω—ã–µ –≥—Ä—É–ø–ø—ã –¥—Ä—É–∑–µ–π**
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ—Ç –≥—Ä—É–ø–ø–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –¥–ª—è –¥—Ä—É–∑–µ–π

**–†–µ—à–µ–Ω–∏–µ:**
- –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö –≥—Ä—É–ø–ø –¥—Ä—É–∑–µ–π (–¥–æ 10-20 —á–µ–ª–æ–≤–µ–∫)
- –ì—Ä—É–ø–ø–æ–≤—ã–µ —á–µ–ª–ª–µ–Ω–¥–∂–∏ (–∫—Ç–æ –¥–æ–ª—å—à–µ –ø—Ä–æ–¥–µ—Ä–∂–∏—Ç —Å—Ç—Ä–∏–∫)
- –ì—Ä—É–ø–ø–æ–≤—ã–µ –¥—É—ç–ª–∏ (–∫–æ–º–∞–Ω–¥–∞ vs –∫–æ–º–∞–Ω–¥–∞)
- –ì—Ä—É–ø–ø–æ–≤–æ–π —á–∞—Ç (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, —á–µ—Ä–µ–∑ Telegram)

**UI:**
- –≠–∫—Ä–∞–Ω "–ì—Ä—É–ø–ø—ã –¥—Ä—É–∑–µ–π"
- –°–æ–∑–¥–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã —Å –≤—ã–±–æ—Ä–æ–º –¥—Ä—É–∑–µ–π
- –ì—Ä—É–ø–ø–æ–≤—ã–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∏ –ª–∏–¥–µ—Ä–±–æ—Ä–¥—ã

---

#### 3.2. **–°–æ—Ü–∏–∞–ª—å–Ω—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è**
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ—Ç –≥–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π

**–†–µ—à–µ–Ω–∏–µ:**
- –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è:
  - "–°–æ—Ü–∏–∞–ª—å–Ω–∞—è –±–∞–±–æ—á–∫–∞" ‚Äî –¥–æ–±–∞–≤–∏—Ç—å 10 –¥—Ä—É–∑–µ–π
  - "–ü–æ–¥–∞—Ä–æ—á–Ω—ã–π –º–∞–≥–Ω–∞—Ç" ‚Äî –æ—Ç–ø—Ä–∞–≤–∏—Ç—å 50 –ø–æ–¥–∞—Ä–∫–æ–≤ –¥—Ä—É–∑—å—è–º
  - "–î—É—ç–ª—å–Ω—ã–π –º–∞—Å—Ç–µ—Ä" ‚Äî –≤—ã–∏–≥—Ä–∞—Ç—å 20 –¥—É—ç–ª–µ–π —Å –¥—Ä—É–∑—å—è–º–∏
  - "–ù–µ—Ä–∞–∑–ª—É—á–Ω—ã–µ" ‚Äî –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å –¥—Ä—É–≥–æ–º 30 –¥–Ω–µ–π –ø–æ–¥—Ä—è–¥
- –ù–∞–≥—Ä–∞–¥—ã: XP, REP, —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∞–≤–∞—Ç–∞—Ä—ã/—Ñ—Ä–µ–π–º—ã

**UI:**
- –°–µ–∫—Ü–∏—è "–°–æ—Ü–∏–∞–ª—å–Ω—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è" –≤ –ø—Ä–æ—Ñ–∏–ª–µ
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
- –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä—ã –¥–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π

---

#### 3.3. **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏**
**–ü—Ä–æ–±–ª–µ–º–∞:** –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥—Ä—É–∑–µ–π —Å–ª–∏—à–∫–æ–º –ø—Ä–æ—Å—Ç—ã–µ

**–†–µ—à–µ–Ω–∏–µ:**
- ML-–∞–ª–≥–æ—Ä–∏—Ç–º —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –Ω–∞ –æ—Å–Ω–æ–≤–µ:
  - –ü–æ—Ö–æ–∂–∏—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ (check-in –≤—Ä–µ–º—è, —Ç–∏–ø—ã –¥—É—ç–ª–µ–π)
  - –û–±—â–∏—Ö –∏–Ω—Ç–µ—Ä–µ—Å–æ–≤ (–ø–æ —Ç–∏–ø–∞–º —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö –ø–∏—Å–µ–º)
  - –°–æ—Ü–∏–∞–ª—å–Ω–æ–≥–æ –≥—Ä–∞—Ñ–∞ (–¥—Ä—É–∑—å—è –¥—Ä—É–∑–µ–π)
- A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤

**UI:**
- –ö–∞—Ä—Ç–æ—á–∫–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ —Å –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ–º: "–£ –≤–∞—Å –æ–±—â–∏–µ –∏–Ω—Ç–µ—Ä–µ—Å—ã: –¥—É—ç–ª–∏, –ø–∏—Å—å–º–∞"
- –ö–Ω–æ–ø–∫–∞ "–ü–æ—á–µ–º—É —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω?" —Å –¥–µ—Ç–∞–ª—è–º–∏

---

#### 3.4. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram**
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Telegram-–∫–æ–Ω—Ç–∞–∫—Ç–æ–≤

**–†–µ—à–µ–Ω–∏–µ:**
- –ó–∞–ø—Ä–æ—Å –¥–æ—Å—Ç—É–ø–∞ –∫ –∫–æ–Ω—Ç–∞–∫—Ç–∞–º Telegram (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ)
- –ü–æ–∏—Å–∫ –¥—Ä—É–∑–µ–π —Å—Ä–µ–¥–∏ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ —É–∂–µ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
- –û—Ç–ø—Ä–∞–≤–∫–∞ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π –¥—Ä—É–∑—å—è–º –∏–∑ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ (–µ—Å–ª–∏ –æ–Ω–∏ –Ω–µ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏)

**UI:**
- –ö–Ω–æ–ø–∫–∞ "–ù–∞–π—Ç–∏ –¥—Ä—É–∑–µ–π –≤ Telegram" –≤ —Ä–∞–∑–¥–µ–ª–µ "–î—Ä—É–∑—å—è"
- –°–ø–∏—Å–æ–∫ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ —Å —Ñ–∏–ª—å—Ç—Ä–æ–º "–£–∂–µ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏" / "–ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å"

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –¢—Ä–µ–±—É–µ—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–æ Telegram API

---

## üí∞ –ú–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—è –¥—Ä—É–∑–µ–π

### Premium —Ñ—É–Ω–∫—Ü–∏–∏:
1. **–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –≥—Ä—É–ø–ø—ã –¥—Ä—É–∑–µ–π** (–¥–æ 50 —á–µ–ª–æ–≤–µ–∫ –≤–º–µ—Å—Ç–æ 20)
2. **–ü—Ä–∏–≤–∞—Ç–Ω—ã–µ –¥—É—ç–ª–∏** (—Ç–æ–ª—å–∫–æ –¥–ª—è Premium)
3. **–ò—Å—Ç–æ—Ä–∏—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π** (–ø–æ–ª–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è –¥–ª—è Premium, –ø–æ—Å–ª–µ–¥–Ω–∏–µ 10 –¥–ª—è Free)
4. **–ö–∞—Å—Ç–æ–º–Ω—ã–µ –≥—Ä—É–ø–ø—ã –¥—Ä—É–∑–µ–π** (–Ω–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–ª—è Premium)
5. **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥—Ä—É–∑–µ–π** (–¥–µ—Ç–∞–ª—å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –¥–ª—è Premium)

### –ü–æ–¥–∞—Ä–∫–∏:
- –ü—Ä–µ–º–∏—É–º –ø–æ–¥–∞—Ä–∫–∏ –¥—Ä—É–∑—å—è–º (—Å—Ç–æ—è—Ç REP/Stars)
- –ü–æ–¥–∞—Ä–æ—á–Ω—ã–µ –Ω–∞–±–æ—Ä—ã –¥–ª—è –≥—Ä—É–ø–ø –¥—Ä—É–∑–µ–π
- –°–µ–∑–æ–Ω–Ω—ã–µ –ø–æ–¥–∞—Ä–∫–∏ (–ù–æ–≤—ã–π –≥–æ–¥, –¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è –¥—Ä—É–≥–∞)

---

## üìä –ú–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è

### –û—Å–Ω–æ–≤–Ω—ã–µ KPI:
1. **Friends Adoption Rate** ‚Äî % –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å ‚â•1 –¥—Ä—É–≥–æ–º (—Ü–µ–ª—å: 60%+)
2. **Average Friends per User** ‚Äî —Å—Ä–µ–¥–Ω–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥—Ä—É–∑–µ–π (—Ü–µ–ª—å: 3-5)
3. **Friends Retention** ‚Äî retention –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –¥—Ä—É–∑—å—è–º–∏ vs –±–µ–∑ (—Ü–µ–ª—å: +30%)
4. **Friends Engagement** ‚Äî DAU –ª–µ–Ω—Ç—ã –¥—Ä—É–∑–µ–π / –æ–±—â–∏–π DAU (—Ü–µ–ª—å: 40%+)
5. **Friend Request Acceptance Rate** ‚Äî % –ø—Ä–∏–Ω—è—Ç—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ (—Ü–µ–ª—å: 70%+)

### –í—Ç–æ—Ä–∏—á–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏:
- –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –¥–æ –ø–µ—Ä–≤–æ–≥–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –¥—Ä—É–≥–∞
- –°—Ä–µ–¥–Ω–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π –Ω–∞ –ø–∞—Ä—É –¥—Ä—É–∑–µ–π
- % –¥—É—ç–ª–µ–π, —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö —Å –¥—Ä—É–∑—å—è–º–∏
- % –ø–æ–¥–∞—Ä–∫–æ–≤, –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö –¥—Ä—É–∑—å—è–º
- Retention –¥—Ä—É–∑–µ–π (—Å–∫–æ–ª—å–∫–æ –¥—Ä—É–∑–µ–π –æ—Å—Ç–∞—é—Ç—Å—è –∞–∫—Ç–∏–≤–Ω—ã–º–∏ —á–µ—Ä–µ–∑ 30 –¥–Ω–µ–π)

---

## üé® UX/UI –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –ü—Ä–∏–Ω—Ü–∏–ø—ã –¥–∏–∑–∞–π–Ω–∞:
1. **–°–æ—Ü–∏–∞–ª—å–Ω–∞—è –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å** ‚Äî –≤—Å–µ–≥–¥–∞ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å—Ç–∞—Ç—É—Å –¥—Ä—É–≥–∞ (–æ–Ω–ª–∞–π–Ω/–æ—Ñ–ª–∞–π–Ω)
2. **–ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è** ‚Äî –∫–Ω–æ–ø–∫–∏ "–û—Ç–ø—Ä–∞–≤–∏—Ç—å –ø–æ–¥–∞—Ä–æ–∫", "–í—ã–∑–≤–∞—Ç—å –Ω–∞ –¥—É—ç–ª—å" –ø—Ä—è–º–æ –≤ –∫–∞—Ä—Ç–æ—á–∫–µ –¥—Ä—É–≥–∞
3. **–í–∏–∑—É–∞–ª—å–Ω–∞—è –∏–µ—Ä–∞—Ä—Ö–∏—è** ‚Äî –±–ª–∏–∑–∫–∏–µ –¥—Ä—É–∑—å—è (–±–æ–ª—å—à–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π) –≤—ã—à–µ –≤ —Å–ø–∏—Å–∫–µ
4. **–ì–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏—è** ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å –∫ —Å–æ—Ü–∏–∞–ª—å–Ω—ã–º –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è–º
5. **–ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è** ‚Äî —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–æ–≤–µ–¥–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### –ö–ª—é—á–µ–≤—ã–µ —ç–∫—Ä–∞–Ω—ã:
1. **–≠–∫—Ä–∞–Ω "–î—Ä—É–∑—å—è"** ‚Äî –≥–ª–∞–≤–Ω—ã–π —Ö–∞–± –¥–ª—è –≤—Å–µ—Ö —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
2. **–ü—Ä–æ—Ñ–∏–ª—å –¥—Ä—É–≥–∞** ‚Äî –¥–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è, –∏—Å—Ç–æ—Ä–∏—è, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
3. **–ó–∞–ø—Ä–æ—Å—ã –¥—Ä—É–∂–±—ã** ‚Äî –≤—Ö–æ–¥—è—â–∏–µ/–∏—Å—Ö–æ–¥—è—â–∏–µ –∑–∞–ø—Ä–æ—Å—ã
4. **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏** ‚Äî –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –Ω–æ–≤—ã—Ö –¥—Ä—É–∑–µ–π
5. **–ì—Ä—É–ø–ø—ã –¥—Ä—É–∑–µ–π** ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥—Ä—É–ø–ø–∞–º–∏

---

## üö¶ –ü–ª–∞–Ω –≤–Ω–µ–¥—Ä–µ–Ω–∏—è (Roadmap)

### –§–∞–∑–∞ 1: MVP (2-3 –Ω–µ–¥–µ–ª–∏)
- [ ] –¢–∞–±–ª–∏—Ü–∞ `friendships` –∏ –±–∞–∑–æ–≤—ã–µ API
- [ ] –≠–∫—Ä–∞–Ω "–î—Ä—É–∑—å—è" —Å —Å–ø–∏—Å–∫–æ–º –∏ –∑–∞–ø—Ä–æ—Å–∞–º–∏
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ª–µ–Ω—Ç—ã –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –¥–ª—è –¥—Ä—É–∑–µ–π
- [ ] –ü–æ–∏—Å–∫ –¥—Ä—É–∑–µ–π –ø–æ username

### –§–∞–∑–∞ 2: –£–ª—É—á—à–µ–Ω–∏—è (2-3 –Ω–µ–¥–µ–ª–∏)
- [ ] –°—Ç–∞—Ç—É—Å—ã –æ–Ω–ª–∞–π–Ω/–æ—Ñ–ª–∞–π–Ω
- [ ] –ö–∞—Ç–µ–≥–æ—Ä–∏–∏/–≥—Ä—É–ø–ø—ã –¥—Ä—É–∑–µ–π
- [ ] –ò—Å—Ç–æ—Ä–∏—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π
- [ ] –°–æ—Ü–∏–∞–ª—å–Ω—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è

### –§–∞–∑–∞ 3: –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (3-4 –Ω–µ–¥–µ–ª–∏)
- [ ] –ü—Ä–∏–≤–∞—Ç–Ω—ã–µ –≥—Ä—É–ø–ø—ã –¥—Ä—É–∑–µ–π
- [ ] ML-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram (–µ—Å–ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ)
- [ ] Premium —Ñ—É–Ω–∫—Ü–∏–∏

---

## üéØ –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

–ü–æ—Å–ª–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –≤—Å–µ—Ö —É–ª—É—á—à–µ–Ω–∏–π:
- **Retention:** +30-40% –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –¥—Ä—É–∑—å—è–º–∏
- **Engagement:** +50-70% DAU –ª–µ–Ω—Ç—ã –¥—Ä—É–∑–µ–π
- **Viral Growth:** +20-30% —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤ —á–µ—Ä–µ–∑ —Å–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- **Monetization:** +15-25% –∫–æ–Ω–≤–µ—Ä—Å–∏—è –≤ Premium —á–µ—Ä–µ–∑ —Å–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

---

## üìù –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ù–æ–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞ `friendships`:
```sql
CREATE TABLE friendships (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id BIGINT NOT NULL,
  friend_id BIGINT NOT NULL,
  status VARCHAR(20) DEFAULT 'pending', -- pending, accepted, blocked
  requested_by BIGINT NOT NULL, -- –∫—Ç–æ –æ—Ç–ø—Ä–∞–≤–∏–ª –∑–∞–ø—Ä–æ—Å
  created_at TIMESTAMP DEFAULT now(),
  accepted_at TIMESTAMP,
  UNIQUE(user_id, friend_id),
  FOREIGN KEY (user_id) REFERENCES profiles(user_id),
  FOREIGN KEY (friend_id) REFERENCES profiles(user_id)
);

CREATE INDEX idx_friendships_user_status ON friendships(user_id, status);
CREATE INDEX idx_friendships_friend_status ON friendships(friend_id, status);
```

### –ù–æ–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞ `friend_interactions`:
```sql
CREATE TABLE friend_interactions (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id BIGINT NOT NULL,
  friend_id BIGINT NOT NULL,
  interaction_type VARCHAR(50) NOT NULL,
  target_id VARCHAR(255), -- id –¥—É—ç–ª–∏, –ø–æ–¥–∞—Ä–∫–∞ –∏ —Ç.–¥.
  target_type VARCHAR(50), -- duel, gift, challenge –∏ —Ç.–¥.
  metadata JSONB,
  created_at TIMESTAMP DEFAULT now(),
  FOREIGN KEY (user_id) REFERENCES profiles(user_id),
  FOREIGN KEY (friend_id) REFERENCES profiles(user_id)
);

CREATE INDEX idx_friend_interactions_user_friend ON friend_interactions(user_id, friend_id);
CREATE INDEX idx_friend_interactions_created ON friend_interactions(created_at DESC);
```

---

**–ê–≤—Ç–æ—Ä –∞–Ω–∞–ª–∏–∑–∞:** AI Product Manager (20 –ª–µ—Ç –æ–ø—ã—Ç–∞)
**–î–∞—Ç–∞:** 2026-02-16
**–í–µ—Ä—Å–∏—è:** 1.0
